System.register("chunks:///_virtual/Api.ts",["cc","./GlobalConfig.ts","./XTool.ts"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.cclegacy},function(t){n=t.ENV,i=t.Environment},function(t){r=t.assertNever}],execute:function(){t("createServerUrl",(function(){switch(n){case i.dev:case i.test:return new s;case i.publish:return new c;default:return r(n)}})),e._RF.push({},"789f4DVJ5ROercVds3YAQ2g","Api",void 0);var s=function(){this.domain="43.139.56.173:8280",this.platform="http://"+this.domain+"/game",this.center="http://"+this.domain+"/game/center"},c=function(){this.domain="api.rivemen.io",this.platform="http://"+this.domain+"/game",this.center="http://"+this.domain+"/game/center"};e._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtils.ts",["cc"],(function(r){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){r("removeItemFromArray",(function(r,e){var t=r.findIndex((function(r){return r===e}));if(t<0)return;r.splice(t,1)})),e._RF.push({},"efa36BYkhdD/qeWu5qrRByr","ArrayUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AttributeDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseDisplay.ts"],(function(t){var n,e,r,i,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t._decorator},function(t){s=t.BaseDisplay}],execute:function(){var c;i._RF.push({},"9d0c7nVOWlKjKRUvo9809VR","AttributeDisplay",void 0);var u=o.ccclass;o.property,t("AttributeDisplay",u("AttributeDisplay")(c=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var o=i.prototype;return o.updateDisplay=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.onClickAbsorbBtn=function(){},o.onClickCloseBtn=function(){this.node.active=!1},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t.Component}],execute:function(){e._RF.push({},"222c9cqZU1AuIlOQC0uXEsr","BaseDisplay",void 0);t("BaseDisplay",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).data=void 0,n}n(e,t);var r=e.prototype;return r.bind=function(t){return this.data=t,this},r.getData=function(){return this.data},e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/BasePresenter.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a06281xY6BL35zLgMjXV+4N","BasePresenter",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"20b31pA3bJNkYJBhe46jDYK","BaseView",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BattleBuffConfig.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"39f90pbAeJHR6bgdzIR2vYY","BattleBuffConfig",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattleEquipConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b9dd7n4u3RBj7JKH1ZbQZfF","BattleEquipConfig",void 0);e("EquipType",function(e){return e[e.weapon=1]="weapon",e[e.headgear=2]="headgear",e[e.clothing=3]="clothing",e[e.pants=4]="pants",e[e.shoes=5]="shoes",e[e.accessory=6]="accessory",e}({})),e("EquipQuality",function(e){return e[e.WHITE=1]="WHITE",e[e.PURPLE=2]="PURPLE",e[e.ORANGE=3]="ORANGE",e[e.RED=4]="RED",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DuckDisplay.ts","./DuckConfig.ts","./Duck.ts","./EventManager.ts","./EventDefine.ts"],(function(e){var t,n,i,o,a,r,s,c,l,u,p,h,f,d,y,g,k,D,b,m,M,v,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,s=e._decorator,c=e.Node,l=e.Prefab,u=e.Button,p=e.UITransform,h=e.Layout,f=e.instantiate,d=e.tween,y=e.NodePool,g=e.Component},function(e){k=e.DuckDisplay},function(e){D=e.playerDuck,b=e.monsterDucks},function(e){m=e.DuckKind,M=e.Duck},function(e){v=e.EventManager},function(e){P=e.BattleEvent}],execute:function(){var w,B,z,C,N,T,A,I,L,R,F,E,W,j,O;r._RF.push({},"c24f9ony8tM9orI/1+NcLTZ","BattleMain",void 0);var S=s.ccclass,_=s.property;e("BattleMain",(w=S("BattleMain"),B=_(c),z=_(c),C=_(l),N=_(u),T=_(p),A=_(l),w((R=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"characters",R,o(t)),i(t,"monsters",F,o(t)),i(t,"duckPrefab",E,o(t)),i(t,"beginBtn",W,o(t)),i(t,"effectLayout",j,o(t)),i(t,"weaponFlyPrefab",O,o(t)),t.begin=!1,t.end=!1,t.fighting=!1,t.monsterConingTimes=[1,3,5],t.timeScale=1,t.passTime=0,t.turn=0,t.playerDuckMap=new Map,t.monsterDuckMap=new Map,t.weaponPool=void 0,t}n(t,e);var r=t.prototype;return r.start=function(){this.createPlayer(),this.initWeaponPool(),v.on(P.battleAttack,this.onBattleAttack,this),v.on(P.battleInjure,this.onBattleInjure,this),v.on(P.battleDie,this.onBattleDie,this)},r.onDestroy=function(){v.off(P.battleAttack,this.onBattleAttack,this),v.off(P.battleInjure,this.onBattleInjure,this),v.off(P.battleDie,this.onBattleDie,this)},r.update=function(e){if(e*=this.timeScale,!this.end&&this.begin)if(this.fighting){for(var t,n=a(this.playerDuckMap.keys());!(t=n()).done;){t.value.action(e)}for(var i,o=a(this.monsterDuckMap.keys());!(i=o()).done;){i.value.action(e)}}else this.passTime+=e,console.log("passTime: ",this.passTime),this.passTime>=this.monsterConingTimes[this.turn]&&(console.log("怪物出现"),this.resetActionCD(),this.createMonster(),this.fighting=!0)},r.randomTarget=function(e){var t=e===m.Player?Array.from(this.monsterDuckMap.keys()):Array.from(this.playerDuckMap.keys());return t[Math.round(Math.random()*(t.length-1))]},r.createPlayer=function(){var e=this.characters.getComponent(h);e.resizeMode=h.ResizeMode.CONTAINER;for(var t,n=a(D);!(t=n()).done;){var i=t.value,o=f(this.duckPrefab),r=o.getComponent(k),s=new M(i);r.bind(s),r.updateDisplay(),this.playerDuckMap.set(s,r),this.characters.addChild(o)}this.scheduleOnce((function(){e.resizeMode=h.ResizeMode.NONE}))},r.createMonster=function(){var e=b[this.turn],t=this.monsters.getComponent(h);t.resizeMode=h.ResizeMode.CONTAINER;for(var n,i=a(e);!(n=i()).done;){var o=n.value,r=f(this.duckPrefab),s=r.getComponent(k),c=new M(o,m.Monster);s.bind(c),s.updateDisplay(),this.monsterDuckMap.set(c,s),this.monsters.addChild(r)}this.scheduleOnce((function(){t.resizeMode=h.ResizeMode.NONE}))},r.resetActionCD=function(){for(var e,t=a(this.playerDuckMap.keys());!(e=t()).done;){e.value.actionCD=0}},r.getDuckDisplay=function(e){var t;switch(e.kind){case m.Player:t=this.playerDuckMap.get(e);break;case m.Monster:t=this.monsterDuckMap.get(e)}return t},r.onBattleAttack=function(e,t){var n=this.getDuckDisplay(e),i=this.getDuckDisplay(t);n&&n.playAttack(),this.playWeaponFly(n.node.getWorldPosition(),i.node.getWorldPosition())},r.onBattleInjure=function(e,t){this.getDuckDisplay(e).playInjure()},r.onBattleDie=function(e){e.kind===m.Player&&(this.playerDuckMap.delete(e),this.playerDuckMap.size||(this.fighting=!1,this.end=!0,console.log("玩家失败"))),e.kind===m.Monster&&(this.monsterDuckMap.delete(e),this.monsterDuckMap.size||(this.turn++,this.fighting=!1),this.turn>=this.monsterConingTimes.length&&(this.end=!0,console.log("玩家胜利")))},r.onClickBeginBtn=function(){this.begin=!0,this.beginBtn.node.active=!1},r.playWeaponFly=function(e,t){var n=this,i=this.getWeaponNode(),o=i.getChildByName("icon"),a=this.effectLayout.convertToNodeSpaceAR(e),r=this.effectLayout.convertToNodeSpaceAR(t);i.parent=this.effectLayout.node,i.setPosition(a),o.angle=0,d(i).set({active:!0}).to(.4,{position:r},{easing:"circIn",onUpdate:function(e,t){o.angle+=10}}).call((function(){n.weaponPool.put(i)})).start()},r.initWeaponPool=function(){this.weaponPool=new y;for(var e=0;e<5;e++){var t=f(this.weaponFlyPrefab);this.weaponPool.put(t)}},r.getWeaponNode=function(){var e=this.weaponPool.get();return e||(e=f(this.weaponFlyPrefab)),e.active=!1,e},t}(g)).prototype,"characters",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(L.prototype,"monsters",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(L.prototype,"duckPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(L.prototype,"beginBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(L.prototype,"effectLayout",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(L.prototype,"weaponFlyPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=L))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainContract.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"592b0W5yClNX4TqKlXz6WW7","BattleMainContract",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainPresenter.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"aba5dfw1I5KN5L/tM9jdwxZ","BattleMainPresenter",void 0);t("BattleMainPresenter",function(){function t(t){this.view=void 0,this.view=t,this.view.setPresenter(this)}return t.prototype.start=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainPresenterFactory.ts",["cc","./BattleMainPresenter.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.BattleMainPresenter}],execute:function(){e("createBattleMainPresenter",(function(e){return new n(e)})),t._RF.push({},"8e5c2qDXptBs7TN8jbFRXne","BattleMainPresenterFactory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainV.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBaseView.ts"],(function(e){var r,t,n,i,a,l,o,u,c,f,b,p,s,y;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Animation,u=e.ProgressBar,c=e.Label,f=e.Node,b=e.Prefab,p=e.Button,s=e.UITransform},function(e){y=e.UIBaseView}],execute:function(){var g,m,w,z,P,B,d,h,v,L,I,T,V,D,F,M,R,_,k,x,U,A;a._RF.push({},"da0adEaTGBDXYq+ILZaW+Qv","BattleMainV",void 0);var j=l.ccclass,q=l.property;e("BattleMainV",(g=q(o),m=q(u),w=q(c),z=q(f),P=q(f),B=q(b),d=q(p),h=q(s),v=q(b),L=q(b),j((V=r((T=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,n(r,"sceneReel",V,i(r)),n(r,"turnProbar",D,i(r)),n(r,"turnText",F,i(r)),n(r,"characters",M,i(r)),n(r,"monsters",R,i(r)),n(r,"duckPrefab",_,i(r)),n(r,"beginBtn",k,i(r)),n(r,"effectLayout",x,i(r)),n(r,"weaponFlyPrefab",U,i(r)),n(r,"effectPrefab",A,i(r)),r}return t(r,e),r}(y)).prototype,"sceneReel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(T.prototype,"turnProbar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(T.prototype,"turnText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=r(T.prototype,"characters",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(T.prototype,"monsters",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(T.prototype,"duckPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(T.prototype,"beginBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(T.prototype,"effectLayout",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(T.prototype,"weaponFlyPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(T.prototype,"effectPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BattleMainPresenterFactory.ts","./BattleMainV.ts","./DuckDisplay.ts","./Duck.ts","./EventDefine.ts","./DuckConfig.ts","./BattleManager.ts","./SpriteSheet.ts","./BattleResourceDef.ts"],(function(t){var e,n,i,o,a,s,r,c,u,l,h,f,p,y,d,g,k,m,D,v,M,P;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.Layout,c=t.instantiate,u=t.tween,l=t.NodePool},function(t){h=t.EventManager},function(t){f=t.createBattleMainPresenter},function(t){p=t.BattleMainV},function(t){y=t.DuckDisplay},function(t){d=t.DuckKind,g=t.Duck},function(t){k=t.BattleEvent},function(t){m=t.monsterDucks,D=t.playerDuck},function(t){v=t.BattleManager},function(t){M=t.SpriteSheet},function(t){P=t.getEffectAnimationFrames}],execute:function(){var C;a._RF.push({},"a8584aURYJBPoguf7NnAM1j","BattleMainView",void 0);var B=s.ccclass;s.property,t("BattleMainView",B(C=function(t){function a(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).presenter=void 0,e.begin=!1,e.end=!1,e.fighting=!1,e.monsterConingTimes=[1,3,5],e.timeScale=1,e.passTime=0,e.turn=0,e.playerDuckMap=new Map,e.monsterDuckMap=new Map,e.weaponPool=void 0,e.effectPool=void 0,e}e(a,t);var s=a.prototype;return s.setPresenter=function(t){this.presenter=t},s.onCreate=function(){t.prototype.onCreate.call(this),f(this)},s.onOpen=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.onOpen.call(this);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClose=function(){t.prototype.onClose.call(this)},s.start=function(){this.createPlayer(),this.initWeaponPool(),this.initEffectPool(),h.on(k.battleAttack,this.onBattleAttack,this),h.on(k.battleInjure,this.onBattleInjure,this),h.on(k.battleDie,this.onBattleDie,this)},s.onDestroy=function(){h.off(k.battleAttack,this.onBattleAttack,this),h.off(k.battleInjure,this.onBattleInjure,this),h.off(k.battleDie,this.onBattleDie,this)},s.onEnable=function(){},s.onDisable=function(){},s.update=function(t){if(t*=this.timeScale,!this.end&&this.begin)if(this.fighting){for(var e,i=n(this.playerDuckMap.keys());!(e=i()).done;){e.value.action(t)}for(var o,a=n(this.monsterDuckMap.keys());!(o=a()).done;){o.value.action(t)}}else this.passTime+=t,this.turnProbar.progress=this.passTime/this.monsterConingTimes[this.monsterConingTimes.length-1],this.turnText.string=""+(this.turn+1),this.passTime>=this.monsterConingTimes[this.turn]&&(console.log("怪物出现"),this.resetActionCD(),this.createMonster(),this.fighting=!0,this.sceneReel.pause())},s.randomTarget=function(t){var e=t===d.Player?Array.from(this.monsterDuckMap.keys()):Array.from(this.playerDuckMap.keys());return e[Math.round(Math.random()*(e.length-1))]},s.playerDucks=function(){return Array.from(this.playerDuckMap.keys())},s.monsterDucks=function(){return Array.from(this.monsterDuckMap.keys())},s.playActionAnimation=function(t,e){var n=this.getDuckDisplay(t),i=this.getDuckDisplay(e);n&&n.playAttack(),this.playWeaponFly(n,i)},s.createPlayer=function(){var t=this.characters.getComponent(r);t.resizeMode=r.ResizeMode.CONTAINER;for(var e,i=n(D);!(e=i()).done;){var o=e.value,a=c(this.duckPrefab),s=a.getComponent(y),u=new g(o);s.bind(u),s.updateDisplay(),this.playerDuckMap.set(u,s),this.characters.addChild(a)}this.scheduleOnce((function(){t.resizeMode=r.ResizeMode.NONE}))},s.createMonster=function(){var t=m[this.turn],e=this.monsters.getComponent(r);e.resizeMode=r.ResizeMode.CONTAINER;for(var i,o=n(t);!(i=o()).done;){var a=i.value,s=c(this.duckPrefab),u=s.getComponent(y),l=new g(a,d.Monster);u.bind(l),u.updateDisplay(),this.monsterDuckMap.set(l,u),this.monsters.addChild(s)}this.scheduleOnce((function(){e.resizeMode=r.ResizeMode.NONE}))},s.resetActionCD=function(){for(var t,e=n(this.playerDuckMap.keys());!(t=e()).done;){t.value.actionCD=0}},s.getDuckDisplay=function(t){var e;switch(t.kind){case d.Player:e=this.playerDuckMap.get(t);break;case d.Monster:e=this.monsterDuckMap.get(t)}return e},s.onBattleAttack=function(t,e){var n=this.getDuckDisplay(t),i=this.getDuckDisplay(e);n&&n.playAttack(),this.playWeaponFly(n,i)},s.onBattleInjure=function(t,e){this.getDuckDisplay(t).playInjure()},s.onBattleDie=function(t){if(t.kind===d.Player&&(this.playerDuckMap.delete(t),this.playerDuckMap.size||(this.fighting=!1,this.end=!0,this.sceneReel.stop(),console.log("玩家失败"))),t.kind===d.Monster){if(this.monsterDuckMap.delete(t),!this.monsterDuckMap.size){if(this.turn++,this.fighting=!1,this.end)return;this.sceneReel.resume()}this.turn>=this.monsterConingTimes.length&&(this.end=!0,this.sceneReel.stop(),console.log("玩家胜利"))}},s.onClickBeginBtn=function(){this.begin=!0,this.beginBtn.node.active=!1,this.sceneReel.play(),v.bindBattleView(this)},s.playWeaponFly=function(t,e){var n=this,i=t.node.getWorldPosition(),o=e.node.getWorldPosition(),a=this.getWeaponNode(),s=a.getChildByName("icon"),r=this.effectLayout.convertToNodeSpaceAR(i),c=this.effectLayout.convertToNodeSpaceAR(o);a.parent=this.effectLayout.node,a.setPosition(r),s.angle=0,u(a).set({active:!0}).to(.4,{position:c},{easing:"circIn",onUpdate:function(t,e){s.angle+=10}}).call((function(){e&&e.playInjure(),n.weaponPool.put(a),n.playEffectAnimation(t,e)})).start()},s.playEffectAnimation=function(){var t=i(o().mark((function t(e,n){var i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.getEffectNode(),a=i.getComponent(M),t.next=4,P();case 4:s=t.sent,a.setAnimationFrames(s),a.setFrameRate(8),a.play(),n.node.addChild(i);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s.initWeaponPool=function(){this.weaponPool=new l;for(var t=0;t<5;t++){var e=c(this.weaponFlyPrefab);this.weaponPool.put(e)}},s.getWeaponNode=function(){var t=this.weaponPool.get();return t||(t=c(this.weaponFlyPrefab)),t.active=!1,t},s.initEffectPool=function(){var t=this;this.effectPool=new l;for(var e=function(){var e=c(t.effectPrefab);e.getComponent(M).addCompleteCallback((function(){t.effectPool.put(e)})),t.effectPool.put(e)},n=0;n<5;n++)e()},s.getEffectNode=function(){var t=this.effectPool.get();return t||(t=c(this.effectPrefab)),t},a}(p))||C);a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleManager.ts",["cc","./Duck.ts","./SkillManager.ts"],(function(t){var n,e,a;return{setters:[function(t){n=t.cclegacy},function(t){e=t.DuckKind},function(t){a=t.SkillManager}],execute:function(){n._RF.push({},"938cbpNN3VGsJYwoad2Ij/s","BattleManager",void 0),t("BattleManager",function(){function t(){}return t.bindBattleView=function(t){this.battleView=t},t.attack=function(t){var n=this.randomTarget(t.kind),e=t.attack;t.isAlive&&(n.injure(e),this.battleView.playActionAnimation(t,n))},t.useSkill=function(t,n){console.log("useSkill: ",n),a.useSkill(t,n)},t.randomTarget=function(t){var n=t===e.Player?this.battleView.monsterDucks():this.battleView.playerDucks();return n[Math.round(Math.random()*(n.length-1))]},t}()).battleView=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePrepareContract.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"40bb70LH9tGnrxNhwdYefjk","BattlePrepareContract",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePreparePresenter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HttpServer.ts"],(function(e){var t,r,n,i,s;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){i=e.isServerError,s=e.HttpServer}],execute:function(){n._RF.push({},"dbf80swDCdC1a/xvQdS7W7P","BattlePreparePresenter",void 0);e("BattlePreparePresenter",function(){function e(e){this.view=void 0,this.view=e,this.view.setPresenter(this)}var n=e.prototype;return n.start=function(){},n.loadConfig=function(){var e=t(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.requestPlatformServer("POST","/config",!1,{config:["item_config","common_config","battle_buff","battle_skill","battle_equip","battle_equip_suit"]});case 2:if(t=e.sent,!i(t)){e.next=6;break}return this.view.showErrorMsg(t.error.msg),e.abrupt("return");case 6:console.log("result: ",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePreparePresenterFactory.ts",["cc","./BattlePreparePresenter.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.BattlePreparePresenter}],execute:function(){e("createBattlePreparePresenter",(function(e){return new r(e)})),t._RF.push({},"266f2h4QNRJtLEFYUqyOAak","BattlePreparePresenterFactory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePrepareV.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBaseView.ts"],(function(e){var t,r,i,a,l,n,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,o=e.Label},function(e){c=e.UIBaseView}],execute:function(){var s,u,p,f,y,b;l._RF.push({},"66ab4oqFbZABKwMyTIFmyot","BattlePrepareV",void 0);var g=n.ccclass,v=n.property;e("BattlePrepareV",(s=v(o),u=v(o),g((y=t((f=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,i(t,"stageTxt",y,a(t)),i(t,"levelTxt",b,a(t)),t}return r(t,e),t}(c)).prototype,"stageTxt",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(f.prototype,"levelTxt",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));l._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePrepareView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattlePreparePresenterFactory.ts","./BattlePrepareV.ts","./UIManager.ts","./UIViewName.ts"],(function(e){var t,n,r,o,a,i,c,s,p;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator},function(e){i=e.createBattlePreparePresenter},function(e){c=e.BattlePrepareV},function(e){s=e.UIManager},function(e){p=e.UIViewName}],execute:function(){var u;o._RF.push({},"2b540uPNd9Hc5GGtugHRprq","BattlePrepareView",void 0);var l=a.ccclass;a.property,e("BattlePrepareView",l(u=function(e){function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).presenter=void 0,t}t(o,e);var a=o.prototype;return a.setPresenter=function(e){this.presenter=e},a.onCreate=function(){e.prototype.onCreate.call(this),i(this)},a.onOpen=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.prototype.onOpen.call(this),this.presenter.loadConfig();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onClose=function(){e.prototype.onClose.call(this)},a.onEnable=function(){},a.onDisable=function(){},a.onClickStartBtn=function(){s.open(p.BattleMainView)},a.onClickDetailBtn=function(){s.open(p.DetailMainView)},o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/BattleResourceDef.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceMgr.ts","./ResourcePath.ts"],(function(e){var t,r,n,a,u,s,c;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e.SpriteFrame,u=e.SpriteAtlas},function(e){s=e.ResourceMgr},function(e){c=e.sortAtlasFrames}],execute:function(){e("getEffectAnimationFrames",(function(){return i.apply(this,arguments)})),n._RF.push({},"3eb27db/1lAy7yjPF3UhgmJ","BattleResourceDef",void 0);e("battleBundleName","battle"),e("battlePrepareViewPath","BattlePrepareView"),e("battleMainViewPath","BattleMainView");function i(){return(i=t(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,s.getRes("effect/hit_eff",u);case 4:return t=e.sent,e.abrupt("return",t.getSpriteFrames().sort(c));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[new a]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}n._RF.pop()}}}));

System.register("chunks:///_virtual/ContentAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.UITransform,r=t.screen,h=t.Component}],execute:function(){var d;n._RF.push({},"42d410j7ldFbaWzvYab4sas","ContentAdapter",void 0);var s=i.ccclass;t("ContentAdapter",s(d=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onLoad=function(){var t=this.node.getComponent(o),e=Math.min(r.windowSize.width/t.width,r.windowSize.height/t.height),n=t.width*e,i=t.height*e;t.width=t.width*(r.windowSize.width/n),t.height=t.height*(r.windowSize.height/i)},n}(h))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainContract.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"758b8cYsa9MlIT8HASXWxur","DetailMainContract",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainPresenter.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a905flbTtxGvJGj9hVg2b4y","DetailMainPresenter",void 0);t("DetailMainPresenter",function(){function t(t){this.view=void 0,this.view=t,this.view.setPresenter(this)}return t.prototype.start=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainPresenterFactory.ts",["cc","./DetailMainPresenter.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.DetailMainPresenter}],execute:function(){e("createDetailMainPresenter",(function(e){return new n(e)})),t._RF.push({},"f3fd4TAlzNEMZ5NSYGPbNKb","DetailMainPresenterFactory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainV.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBaseView.ts","./LevelMgrDisplay.ts","./EquipMgrDisplay.ts","./AttributeDisplay.ts"],(function(e){var r,i,t,l,n,a,u,o,p,s,c,y,b;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,u=e.Node,o=e.Label,p=e.ProgressBar},function(e){s=e.UIBaseView},function(e){c=e.LevelMgrDisplay},function(e){y=e.EquipMgrDisplay},function(e){b=e.AttributeDisplay}],execute:function(){var f,g,D,m,v,w,M,z,L,d,h,B,P,V,q,I,A,E,N,_;n._RF.push({},"55544lPVStBAZ6CqrNr9smP","DetailMainV",void 0);var x=a.ccclass,C=a.property;e("DetailMainV",(f=C(u),g=C(o),D=C(o),m=C(o),v=C(o),w=C(p),M=C(c),z=C(y),L=C(b),x((B=r((h=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"panelList",B,l(r)),t(r,"playerName",P,l(r)),t(r,"playerId",V,l(r)),t(r,"playerLevel",q,l(r)),t(r,"playerCE",I,l(r)),t(r,"expProgressBar",A,l(r)),t(r,"levelMgrDisplay",E,l(r)),t(r,"equipMgrDisplay",N,l(r)),t(r,"attributeDisplay",_,l(r)),r}return i(r,e),r}(s)).prototype,"panelList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=r(h.prototype,"playerName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=r(h.prototype,"playerId",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=r(h.prototype,"playerLevel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(h.prototype,"playerCE",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(h.prototype,"expProgressBar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(h.prototype,"levelMgrDisplay",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(h.prototype,"equipMgrDisplay",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(h.prototype,"attributeDisplay",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DetailMainPresenterFactory.ts","./DetailMainV.ts"],(function(t){var e,n,i,r,a,o,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator},function(t){o=t.createDetailMainPresenter},function(t){c=t.DetailMainV}],execute:function(){var s;r._RF.push({},"2ad56XGboJN1J23gNUwnOfT","DetailMainView",void 0);var u=a.ccclass,l=(a.property,function(t){return t[t.Attribute=0]="Attribute",t[t.Equip=1]="Equip",t[t.Skill=2]="Skill",t}(l||{}));t("DetailMainView",u(s=function(t){function r(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).presenter=void 0,e.currentPanelIndex=0,e}e(r,t);var a=r.prototype;return a.setPresenter=function(t){this.presenter=t},a.onCreate=function(){t.prototype.onCreate.call(this),o(this)},a.onOpen=function(){var e=n(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.onOpen.call(this);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClose=function(){t.prototype.onClose.call(this)},a.onEnable=function(){},a.onDisable=function(){},a.onClickStartBtn=function(){},a.onClickEquipBtn=function(){},a.switchPanel=function(){var t=n(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l[e.node.name],this.panelList[this.currentPanelIndex].active=!1,this.panelList[n].active=!0,this.currentPanelIndex=n,t.t0=n,t.next=t.t0===l.Attribute?7:t.t0===l.Equip?8:t.t0===l.Skill?9:10;break;case 7:case 8:case 9:case 10:return t.abrupt("break",11);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.onClickLevelUpBtn=function(){this.levelMgrDisplay.node.active=!0},a.onClickEquipItem=function(){this.equipMgrDisplay.node.active=!0},a.onClickAttributeMore=function(){this.attributeDisplay.node.active=!0},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/DetailResourceDef.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"858a7n9Y2dNdZesKzbUwBVA","DetailResourceDef",void 0);e("detailBundleName","detail"),e("detailMainViewPath","DetailMainView");t._RF.pop()}}}));

System.register("chunks:///_virtual/Duck.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleManager.ts"],(function(t){var i,e,n;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.BattleManager}],execute:function(){e._RF.push({},"22318i7OmJKO5/SU9kgenlh","Duck",void 0);var a=t("DuckKind",function(t){return t[t.Player=1]="Player",t[t.Monster=2]="Monster",t}({}));t("Duck",function(){function t(t,i){void 0===i&&(i=a.Player),this._attack=0,this._life=0,this._actionInterval=0,this._actionCD=0,this._rage=0,this._rawLife=0,this._alive=void 0,this._duckKind=void 0,this._attack=t.attack,this._life=t.life,this._actionInterval=t.actionInterval,this._rawLife=t.life,this._alive=!0,this._duckKind=i}var e=t.prototype;return e.action=function(t){this.isAlive&&(this.actionCD<=0&&(n.attack(this),this.actionCD+=this.actionInterval),this.kind===a.Player&&this.rage>=100&&(n.useSkill(this,10),console.log("duck rage: ",this._rage),this._rage-=100),this._alive=this.life>0,this._rage++,this.actionCD-=t,this.isAlive)},e.injure=function(t){this.life-=t},i(t,[{key:"attack",get:function(){return this._attack},set:function(t){this._attack=t}},{key:"life",get:function(){return this._life},set:function(t){this._life=t}},{key:"actionInterval",get:function(){return this._actionInterval},set:function(t){this._actionInterval=t}},{key:"actionCD",get:function(){return this._actionCD},set:function(t){this._actionCD=t}},{key:"rawLife",get:function(){return this._rawLife}},{key:"isAlive",get:function(){return this._alive}},{key:"kind",get:function(){return this._duckKind}},{key:"rage",get:function(){return this._rage}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DuckConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ada14pRE2VI8IAGksz9TjWs","DuckConfig",void 0);e("playerDuck",[{attack:5,defense:0,life:500,speed:0,actionInterval:1.5}]),e("monsterDucks",[[{attack:2,defense:0,life:10,speed:0,actionInterval:2}],[{attack:3,defense:0,life:20,speed:0,actionInterval:1.5},{attack:5,defense:0,life:30,speed:0,actionInterval:1}],[{attack:5,defense:0,life:30,speed:0,actionInterval:1.5},{attack:8,defense:0,life:40,speed:0,actionInterval:1},{attack:1,defense:0,life:20,speed:0,actionInterval:3}]]);t._RF.pop()}}}));

System.register("chunks:///_virtual/DuckDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Duck.ts","./BaseDisplay.ts","./EventDefine.ts","./EventManager.ts"],(function(e){var t,n,i,r,a,o,s,c,l,u,p,f,d,y,h,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Label,u=e.ProgressBar,p=e.tween,f=e.Vec3},function(e){d=e.DuckKind},function(e){y=e.BaseDisplay},function(e){h=e.BattleEvent},function(e){D=e.EventManager}],execute:function(){var g,v,b,k,w,m,B;s._RF.push({},"70eb6elrHlGV5hLBlsBrlnr","DuckDisplay",void 0);var P=c.ccclass,x=c.property;e("DuckDisplay",(g=P("DuckDisplay"),v=x(l),b=x(u),g((m=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lifeTxt",m,r(t)),i(t,"lifePro",B,r(t)),t}n(t,e);var s=t.prototype;return s.updateDisplay=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.lifeTxt.string=this.data.life.toString(),this.lifePro.progress=this.data.life/this.data.rawLife;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.playAttack=function(){var e=this.node.position.clone(),t=this.data.kind===d.Player?20:-20;p(this.node).to(.1,{position:new f(e.x,t,0)},{easing:"circIn"}).to(.1,{position:e},{easing:"circIn"}).start()},s.playInjure=function(){var e=this;p(this.node).to(.1,{scale:new f(.7,.7,0)},{easing:"circIn"}).to(.1,{scale:new f(1,1,0)},{easing:"circIn"}).delay(.05).call((function(){e.updateDisplay(),e.data.isAlive||(D.emit(h.battleDie,e.data),e.node.parent.removeChild(e.node),e.node.destroy())})).start()},t}(y)).prototype,"lifeTxt",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(w.prototype,"lifePro",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=w))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/EquipMgrDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseDisplay.ts"],(function(r){var t,n,e,i,s,o;return{setters:[function(r){t=r.inheritsLoose,n=r.asyncToGenerator,e=r.regeneratorRuntime},function(r){i=r.cclegacy,s=r._decorator},function(r){o=r.BaseDisplay}],execute:function(){var u;i._RF.push({},"0ddf7kiy+VAKKU9OEWMqr2n","EquipMgrDisplay",void 0);var a=s.ccclass;s.property,r("EquipMgrDisplay",a("EquipMgrDisplay")(u=function(r){function i(){return r.apply(this,arguments)||this}t(i,r);var s=i.prototype;return s.updateDisplay=function(){var r=n(e().mark((function r(){return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),s.onClickCloseBtn=function(){this.node.active=!1},i}(o))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/EventDefine.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7e5d0cX5itNP5HoB/NWM0Nv","EventDefine",void 0);e("UIEvent",function(e){return e.openUI="openUI",e.closeUI="closeUI",e.clickToggle="clickToggle",e}({})),e("BattleEvent",function(e){return e.battleAttack="battleAttack",e.battleInjure="battleInjure",e.battleDie="battleDie",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,a;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"4ebd1KXF1dDZaArAbntOq+t","EventManager",void 0);var c=e("EventManager",function(){function e(){}return e.on=function(e,n,t){var r=this.eventMap.get(e);r||(r=[],this.eventMap.set(e,r)),r.push({event:e,context:t,func:n})},e.off=function(e,n,t){var r=this.eventMap.get(e);if(r)for(var a=r.length-1;a>=0;a--){var c=r[a];c.context===t&&c.func===n&&r.splice(a,1)}},e.emit=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];if(this.eventMap.has(e)){var a=this.eventMap.get(e).slice(0);a.forEach((function(e){e.func.apply(e.context,t)}))}},e.sequenceEmit=function(){var e=n(t().mark((function e(n){var a,c,s,u,i,o,f,p=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.eventMap.get(n)){e.next=3;break}return e.abrupt("return");case 3:for(c=p.length,s=new Array(c>1?c-1:0),u=1;u<c;u++)s[u-1]=p[u];for(i=r(a);!(o=i()).done;)f=o.value,this.asyncQueue.push({event:n,args:s,context:f.context,func:f.func});case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.update=function(){this.processAsyncCallback()},e.clearAll=function(){for(var e in this.eventMap.keys())this.eventMap[e]=[];this.eventMap.clear(),this.asyncQueue=[]},e.processAsyncCallback=function(){var e=n(t().mark((function e(){var n,a,c,s,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.asyncQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(!this.running){e.next=4;break}return e.abrupt("return");case 4:this.running=!0,n=this.asyncQueue.slice(0),a=0,c=r(n);case 8:if((s=c()).done){e.next=24;break}return u=s.value,e.prev=10,e.next=13,u.func.apply(u.context,u.args);case 13:a++,e.next=22;break;case 16:throw e.prev=16,e.t0=e.catch(10),console.error("[EventManager] process async callback failed. "+u.event+" Event "+u.func+" Callback"),this.asyncQueue.splice(0,a+1),this.running=!1,e.t0;case 22:e.next=8;break;case 24:this.asyncQueue.splice(0,n.length),this.running=!1;case 26:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(){return e.apply(this,arguments)}}(),e}());c.eventMap=new Map,c.asyncQueue=[],c.running=!1,a._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./ResourceMgr.ts","./UIManager.ts","./UIViewName.ts","./Platform.ts","./HttpServer.ts"],(function(t){var n,e,r,o,i,a,c,s,u,p,f,l,d,m,v;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,i=t._decorator,a=t.macro,c=t.DynamicAtlasManager,s=t.director,u=t.Component},function(t){p=t.EventManager},function(t){f=t.ResourceMgr},function(t){l=t.UIManager},function(t){d=t.UIViewName},function(t){m=t.isMobilePlatform},function(t){v=t.HttpServer}],execute:function(){var g;o._RF.push({},"9a9a50njadJtLBLjy76lyrb","Game",void 0);var h=i.ccclass,y=(i.property,i.executionOrder);a.CLEANUP_IMAGE_CACHE=!1,c.instance.enabled=!0,c.instance.maxFrameSize=512,m()&&window.addEventListener("scroll",(function(t){t.stopPropagation(),window.scroll(0,0)}),!0);t("Game",h(g=y(-1)(g=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.init=function(){v.init(),f.init(),l.init()},i.onLoad=function(){s.addPersistRootNode(this.node)},i.start=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.init(),l.open(d.BattlePrepareView);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.update=function(t){p.update()},o}(u))||g)||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"2f577Eh3L9D0IUSFncPIxaO","GameConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"82e7awtrnFCjb1QsaVcoaiJ","GlobalConfig",void 0);e("Environment",function(e){return e[e.dev=1]="dev",e[e.test=2]="test",e[e.publish=3]="publish",e}({})),e("Version",function(e){return e[e.base=1]="base",e}({})),e("ENV",1),e("VERSION",1);n._RF.pop()}}}));

System.register("chunks:///_virtual/HttpServer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalStorage.ts","./Api.ts","./XLog.ts","./Platform.ts","./XTool.ts"],(function(e){var r,t,n,o,a,s,i,u,c,f;return{setters:[function(e){r=e.inheritsLoose,t=e.wrapNativeSuper,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){s=e.LocalStorage},function(e){i=e.createServerUrl},function(e){u=e.XLog},function(e){c=e.isNativePlatform,f=e.isEmulatorPlatform},null],execute:function(){e({getErrorMessage:function(e){switch(e.error.code){case v.failed:case v.forbidden:case v.unavailable:return"连接服务器失败";case v.unauthenticate:return"账号或密码错误，请重新输入";default:return e.error.msg}},isServerError:p,serverUnavailable:function(e){return e.error.code===v.failed||e.error.code===v.unavailable||e.error.code===v.forbidden}}),a._RF.push({},"92929810QxLlZ1mmUHkp6/O","HttpServer",void 0);e("ServerCustomException",function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(t(Error)));var l=e("ReadyState",function(e){return e[e.UNSENT=0]="UNSENT",e[e.OPENED=1]="OPENED",e[e.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",e[e.LOADING=3]="LOADING",e[e.DONE=4]="DONE",e}({})),v=e("HttpResponseErrorCode",function(e){return e[e.failed=0]="failed",e[e.unauthenticate=401]="unauthenticate",e[e.badrequest=400]="badrequest",e[e.forbidden=403]="forbidden",e[e.error=500]="error",e[e.unavailable=503]="unavailable",e}({}));function p(e){return void 0!==e.error}var d=e("HttpServer",function(){function e(){}return e.init=function(){this.serverUrl=i()},e.requestPlatformServer=function(e,r,t,n,o){var a=t?"token":void 0;return this.requestServer(e,this.serverUrl.platform+r,a,n,o)},e.requestServer=function(){var e=n(o().mark((function e(r,t,n,a,s){var i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var d=new XMLHttpRequest;if("GET"!==r&&"DELETE"!==r||(t=i.formatUrl(t,a)),d.open(r,t),d.setRequestHeader("Content-type","application/json; charset=utf-8"),n){var E=localStorage.getItem("token");E&&d.setRequestHeader(n,E)}d.onreadystatechange=function(){if(d.readyState===l.DONE){var r=JSON.parse(d.responseText).code||d.status;if(d.status>=200&&d.status<300&&r>=200&&r<300||304===d.status){if(!d.responseText)return void e(null);var t=JSON.parse(d.responseText);p(t)?o(t):e(JSON.parse(d.responseText))}else if(d.status>=400&&d.status<600||r>=400&&r<600||0===d.status){var n;try{if(d.status===v.unavailable)n={error:{code:d.status,msg:"连接服务器失败"}};else n={error:JSON.parse(d.responseText)}}catch(e){n={error:{code:d.status,msg:"连接服务器失败"}}}o(n)}}},(c()||f())&&0===s?d.timeout=6e5:d.timeout=null!=s?s:i.timeout,d.ontimeout=function(e){o({error:{code:-1,msg:"网络缓慢，请重新操作"}})},"GET"===r?d.send():d.send(JSON.stringify(a)),u.log(t+": "+JSON.stringify(a))})).catch((function(e){return i.handleServerError(e),e})));case 1:case"end":return e.stop()}}),e)})));return function(r,t,n,o,a){return e.apply(this,arguments)}}(),e.formatUrl=function(e,r){if(!r)return e;for(var t=e,n=Object.keys(r),o=n.length-1;o>=0;o--)if(r.hasOwnProperty(n[o])&&-1!==t.search("#{"+n[o]+"}")){var a=r[n[o]].toString();t=t.replace("#{"+n[o]+"}",a),n.splice(o,1)}if(n.length>0){t+="?";for(var s=n.length-1;s>=0;s--)if(r.hasOwnProperty(n[s])){var i=r[n[s]].toString();t+=n[s]+"="+i}}return t},e.handleServerError=function(e){switch(e.error.code){case v.unauthenticate:if(s.getItem("token")){s.removeItem("token");break}}},e}());d.timeout=15e3,d.serverUrl=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMgrDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseDisplay.ts"],(function(e){var n,t,r,i,o,s;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e._decorator},function(e){s=e.BaseDisplay}],execute:function(){var c;i._RF.push({},"70603fPq6hA+YQbGAUlmW6h","LevelMgrDisplay",void 0);var a=o.ccclass;o.property,e("LevelMgrDisplay",a("LevelMgrDisplay")(c=function(e){function i(){return e.apply(this,arguments)||this}n(i,e);var o=i.prototype;return o.updateDisplay=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.onClickAbsorbBtn=function(){},o.onClickCancelBtn=function(){this.node.active=!1},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorage.ts",["cc"],(function(t){var e,o;return{setters:[function(t){e=t.cclegacy,o=t.sys}],execute:function(){e._RF.push({},"b6360wEcdtIXZrSzn35jZW3","LocalStorage",void 0);t("LocalStorage",function(){function t(){}return t.setItem=function(t,e){o.localStorage.setItem(t,e)},t.getItem=function(t){return o.localStorage.getItem(t)},t.removeItem=function(t){o.localStorage.removeItem(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Game.ts","./GlobalConfig.ts","./BattleMain.ts","./Duck.ts","./DuckConfig.ts","./DuckDisplay.ts","./BattleMainContract.ts","./BattleMainPresenter.ts","./BattleMainPresenterFactory.ts","./BattleMainV.ts","./BattleMainView.ts","./BattleManager.ts","./BattlePrepareContract.ts","./BattlePreparePresenter.ts","./BattlePreparePresenterFactory.ts","./BattlePrepareV.ts","./BattlePrepareView.ts","./SkillManager.ts","./BaseDisplay.ts","./SpriteSheet.ts","./EventDefine.ts","./EventManager.ts","./LocalStorage.ts","./BasePresenter.ts","./BaseView.ts","./ModelLoader.ts","./Api.ts","./HttpServer.ts","./BattleResourceDef.ts","./DetailResourceDef.ts","./PreloadResConfig.ts","./ProtoResourceDef.ts","./ResourceMgr.ts","./ResourcePath.ts","./XBundle.ts","./ContentAdapter.ts","./ModalWindow.ts","./UIBaseView.ts","./UIManager.ts","./UIViewConfig.ts","./UIViewLayer.ts","./UIViewName.ts","./ArrayUtils.ts","./Platform.ts","./XLog.ts","./XMath.ts","./XTool.ts","./AttributeDisplay.ts","./EquipMgrDisplay.ts","./LevelMgrDisplay.ts","./DetailMainContract.ts","./DetailMainPresenter.ts","./DetailMainPresenterFactory.ts","./DetailMainV.ts","./DetailMainView.ts","./BattleBuffConfig.ts","./BattleEquipConfig.ts","./GameConfig.ts","./Protocol.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBaseView.ts"],(function(t){var e,i,n,r,a,o,s,l,p,c,u,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.SpriteFrame,l=t.Node,p=t.Button,c=t.Sprite,u=t.Widget,d=t.UIOpacity},function(t){h=t.UIBaseView}],execute:function(){var m,g,f,y,k,b;a._RF.push({},"6d11dulOHNK67DNNR2Irilu","ModalWindow",void 0);var v=o.ccclass,w=o.property;t("ModalWindow",(m=w({min:0,max:255}),g=w(s),v((k=e((y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"alpha",k,r(e)),n(e,"spriteFrame",b,r(e)),e.mask=void 0,e}i(e,t);var a=e.prototype;return a.onCreate=function(){t.prototype.onCreate.call(this),this.createBackgroundMask()},a.createBackgroundMask=function(){this.mask=new l;var t=this.mask.addComponent(p);t.interactable=!0,t.transition=p.Transition.NONE,this.mask.addComponent(c).spriteFrame=this.spriteFrame;var e=this.mask.addComponent(u);e.isAlignTop=!0,e.isAlignBottom=!0,e.isAlignLeft=!0,e.isAlignRight=!0,e.top=0,e.bottom=0,e.left=0,e.right=0,this.mask.getComponent(d).opacity=this.alpha,this.node.parent.insertChild(this.mask,this.node.getSiblingIndex())},e}(h)).prototype,"alpha",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),b=e(y.prototype,"spriteFrame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ModelLoader.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"302d2uOTAlPWYHQsHQBUbOv","ModelLoader",void 0),e("ModelLoader",function(){function e(){}return e.getModel=function(e){if(this.map.has(e))return this.map.get(e);var t=new e;return this.map.set(e,t),t},e.deleteModel=function(e){this.map.has(e)&&this.map.delete(e)},e.clear=function(){this.map.clear()},e}()).map=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["cc","./env"],(function(t){var r,n,o;return{setters:[function(t){r=t.cclegacy,n=t.sys},function(t){o=t.PREVIEW}],execute:function(){t({isAndroidPlatform:function(){return n.os===n.OS.ANDROID},isBrowserPlatform:function(){return n.isBrowser},isEmulatorPlatform:function(){return o},isIOSPlatform:function(){return n.os===n.OS.IOS},isMobilePlatform:function(){return n.isMobile},isNativePlatform:function(){return n.isNative}}),r._RF.push({},"6ab918rOqFK8JoLdXOivECj","Platform",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/PreloadResConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4548019Hj1JGY2WheiWA1Bm","PreloadResConfig",void 0);e("preloadResDir",["item/"]);t._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"391f9K8WRFJEaQK1ztJd44G","Protocol",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ProtoResourceDef.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f5c6fZF7PtFor6GjMu7w3ss","ProtoResourceDef",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalConfig.ts","./UIViewConfig.ts","./Platform.ts","./XLog.ts","./PreloadResConfig.ts","./XBundle.ts"],(function(e){var r,n,t,u,a,o,s,i,c,f,l,p,d,w,h,m,v;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime,t=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,a=e.director,o=e.assetManager,s=e.Prefab,i=e.SpriteFrame,c=e.Texture2D},function(e){f=e.ENV,l=e.Environment},function(e){p=e.getUIViewConfig},function(e){d=e.isNativePlatform,w=e.isEmulatorPlatform},function(e){h=e.XLog},function(e){m=e.preloadResDir},function(e){v=e.XBundle}],execute:function(){u._RF.push({},"0ae66bw8BZMvqGoKYDi60M8","ResourceMgr",void 0),e("ResourceMgr",function(){function e(){}return e.init=function(){if(d()||w())this.remotePrefix="";else switch(f){case l.test:this.remotePrefix="http://172.16.10.32";break;case l.publish:this.remotePrefix="https://url/assets/"}},e.getRes=function(){var e=r(n().mark((function e(r,t){var u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBundle("resources");case 2:return u=e.sent,e.abrupt("return",u.load(r,t));case 4:case"end":return e.stop()}}),e,this)})));return function(r,n){return e.apply(this,arguments)}}(),e.preloadRes=function(){var e=r(n().mark((function e(){var r,u,o,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBundle("resources");case 2:for(r=e.sent,u=t(m);!(o=u()).done;)s=o.value,r.preloadDir(s);a.preloadScene("world");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.loadBundle=function(){var e=r(n().mark((function e(r){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.loadBundle(t.remotePrefix+r,(function(u,a){u&&(h.warn("array:"+(t.remotePrefix+r)+" load faild"),n(u)),e(new v(a))}))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.getBundle=function(){var e=r(n().mark((function e(r){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=o.getBundle(r))){e.next=3;break}return e.abrupt("return",new v(t));case 3:return e.abrupt("return",this.loadBundle(r));case 4:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),e.releaseBundleAsset=function(){var t=r(n().mark((function r(t){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getBundle(t);case 2:r.sent.releaseAll();case 4:case"end":return r.stop()}}),r)})));return function(e){return t.apply(this,arguments)}}(),e.releaseViewPrefab=function(){var t=r(n().mark((function r(t){var u;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(u=p(t))){r.next=7;break}return r.next=4,e.getBundle(u.bundle);case 4:r.sent.release(u.prefab,s),h.log("[ResourceMgr] "+t+" prefab have been released.");case 7:case"end":return r.stop()}}),r)})));return function(e){return t.apply(this,arguments)}}(),e.loadRemoteImageAsset=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.loadRemote(r,(function(t,u){t&&(h.warn(r+" load faild"),n(new i));var a=new i,o=new c;o.image=u,a.texture=o,e(a)}))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.loadRemoteJsonAsset=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.loadRemote(r,(function(t,u){t&&(h.warn(r+" load faild"),n(new i)),e(u)}))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e}()).remotePrefix="",u._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcePath.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e("sortAtlasFrames",(function(e,r){if(e.name<r.name)return-1;if(e.name>r.name)return 1;return 0})),r._RF.push({},"03004bHrg5BqYf8zpRl6qix","ResourcePath",void 0);e("resourcesBundleName","resources");r._RF.pop()}}}));

System.register("chunks:///_virtual/SkillManager.ts",["cc","./BattleManager.ts"],(function(n){var t,i;return{setters:[function(n){t=n.cclegacy},function(n){i=n.BattleManager}],execute:function(){t._RF.push({},"b4fafrJ9TpJYKzGhBpxsOMY","SkillManager",void 0);n("SkillManager",function(){function n(){}return n.useSkill=function(n,t){u[t](n)},n}());var u={1:function(n){var t=i.randomTarget(n.kind),u=1.5*n.attack;if(!n.isAlive)return;t.injure(u)},2:function(n){var t=i.randomTarget(n.kind),u=2.5*n.attack;if(!n.isAlive)return;t.injure(u)},3:function(n){},4:function(n){},5:function(n){},6:function(n){},7:function(n){},8:function(n){},9:function(n){},10:function(n){console.log("throwPoop")},11:function(n){},12:function(n){},13:function(n){}};t._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteSheet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,a,n,r,s,l,o,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,l=t._decorator,o=t.SpriteAtlas,u=t.macro,h=t.Sprite}],execute:function(){var p,c,f,m,d,y,b,F,v,g,S,R,x,A;s._RF.push({},"cae2ab2Hc9JsbGmX2Jja7YH","SpriteSheet",void 0);var E=l.ccclass,z=l.property,w=l.executeInEditMode;t("SpriteSheet",(p=z({displayName:"帧数",min:1}),c=z({displayName:"帧率",tooltip:"每秒显示多少帧",min:1}),f=z({displayName:"间隔",tooltip:"每隔多少秒循环播放",visible:function(){return this.loop}}),m=z({displayName:"循环播放"}),d=z({displayName:"自动播放"}),y=z({displayName:"默认图集",type:o}),E(b=w((v=e((F=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"frameCount",v,n(e)),a(e,"frameRate",g,n(e)),a(e,"interval",S,n(e)),a(e,"loop",R,n(e)),a(e,"auto",x,n(e)),a(e,"defaultAtlas",A,n(e)),e.playing=!1,e.index=0,e.scaleValue=1,e.callbackList=[],e.aniFrames=[],e}i(e,t);var s=e.prototype;return s.addCompleteCallback=function(t){this.callbackList.push(t)},s.setAnimationFrames=function(t){this.aniFrames=t,this.spriteFrame=this.aniFrames[0],this.frameCount=t.length},s.setScale=function(t){this.scaleValue=t},s.setFrameRate=function(t){this.frameRate=t},s.setLoop=function(t){this.loop=t},s.reset=function(){this.index=0,this.spriteFrame=this.aniFrames[this.index]},s.play=function(){this.index=0,this.loop&&this.interval?this.playSheetInterval():this.playSheet(),this.playing=!0},s.stop=function(){this.unschedule(this.updateFrame),this.index=0},s.pause=function(){this.unschedule(this.playSheet),this.stop(),this.spriteFrame=this.aniFrames[this.index],this.playing=!1},s.unuse=function(){this.stop()},s.reuse=function(){},s.start=function(){0===this.aniFrames.length&&this.defaultAtlas&&this.setAnimationFrames(this.defaultAtlas.getSpriteFrames()),this.auto&&this.play()},s.playSheetInterval=function(){this.playing||this.schedule(this.playSheet,this.interval,u.REPEAT_FOREVER)},s.playSheet=function(){this.schedule(this.updateFrame,1/(this.frameRate*this.scaleValue),u.REPEAT_FOREVER)},s.updateFrame=function(){if(this.spriteFrame=this.aniFrames[++this.index],this.index===this.frameCount-1){if(!this.loop||this.interval)return this.stop(),void this.complete();this.index=-1}},s.complete=function(){for(var t,e=r(this.callbackList);!(t=e()).done;){(0,t.value)()}},e}(h)).prototype,"frameCount",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),g=e(F.prototype,"frameRate",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),S=e(F.prototype,"interval",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(F.prototype,"loop",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=e(F.prototype,"auto",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=e(F.prototype,"defaultAtlas",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=F))||b)||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIBaseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts"],(function(e){var n,i,t,o,s,l,r,a,c,u,p,h,d,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,c=e.AnimationClip,u=e.Button,p=e.Node,h=e.Animation,d=e.Component},function(e){f=e.UIManager}],execute:function(){var v,m,C,g,w,y,b,B,A,M;r._RF.push({},"d8fcemi6JBFb6WWcXH11e0u","UIBaseView",void 0);var k=a.ccclass,E=a.property;e("UIBaseView",(v=E(c),m=E(c),C=E(u),g=E(p),k((b=n((y=function(e){function n(){for(var n,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(n=e.call.apply(e,[this].concat(s))||this).uiName=void 0,n.closing=!1,n.animationCtrl=void 0,t(n,"openAniClip",b,o(n)),t(n,"closeAniClip",B,o(n)),n.completeReject=void 0,n.completedReslove=void 0,n.loadingAniShowing=!1,t(n,"closeBtn",A,o(n)),t(n,"closeMask",M,o(n)),n}i(n,e);var r=n.prototype;return r.onCreate=function(){this.closeBtn&&this.addCloseBtnEvent(),this.closeMask&&this.addCloseMaskEvent(),this.animationCtrl=this.getComponent(h),this.animationCtrl&&(this.openAniClip&&this.animationCtrl.addClip(this.openAniClip,"open"),this.closeAniClip&&this.animationCtrl.addClip(this.closeAniClip,"close"))},r.onOpen=function(){null!=this.node&&(this.node.active=!0)},r.onClose=function(){},r.close=function(e){void 0===e&&(e=!1),f.close(this,e)},r.hide=function(){f.hide(this)},r.show=function(){f.show(this)},r.complete=function(e){e?this.completedReslove():this.completeReject()},r.loading=function(){var e=s(l().mark((function e(){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){n.completeReject=i,n.completedReslove=e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.reload=function(){},r.showBlackTips=function(e){},r.showErrorMsg=function(e){},r.addCloseBtnEvent=function(){var e=this;this.closeBtn.node.on(p.EventType.TOUCH_END,(function(){e.close()}),this)},r.addCloseMaskEvent=function(){var e=this;this.closeMask.on(p.EventType.TOUCH_END,(function(){e.close()}),this)},n}(d)).prototype,"openAniClip",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(y.prototype,"closeAniClip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(y.prototype,"closeBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(y.prototype,"closeMask",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDefine.ts","./EventManager.ts","./ResourceMgr.ts","./ArrayUtils.ts","./XLog.ts","./XTool.ts","./UIBaseView.ts","./UIViewConfig.ts","./UIViewLayer.ts"],(function(e){var n,t,i,r,a,o,s,c,u,d,p,h,f,l,v,w,g,I,m,y,L,V;return{setters:[function(e){n=e.createForOfIteratorHelperLoose,t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e.find,o=e.director,s=e.Director,c=e.UITransform,u=e.Animation,d=e.isValid,p=e.Widget,h=e.instantiate,f=e.Prefab},function(e){l=e.UIEvent},function(e){v=e.EventManager},function(e){w=e.ResourceMgr},function(e){g=e.removeItemFromArray},function(e){I=e.XLog},function(e){m=e.assertNever},function(e){y=e.UIBaseView},function(e){L=e.getUIViewConfig},function(e){V=e.UIViewLayer}],execute:function(){r._RF.push({},"53cd4OxJE1P7rzVghFXM3x/","UIManager",void 0);var C=e("UIManager",function(){function e(){}return e.init=function(){this.windowLayer=a("Canvas/ui/windowLayer"),this.popLayer=a("Canvas/ui/popLayer"),o.addPersistRootNode(this.rootLayer),o.off(s.EVENT_BEFORE_SCENE_LOADING,this.beforeSceneLaunch,this),o.on(s.EVENT_BEFORE_SCENE_LOADING,this.beforeSceneLaunch,this)},e.create=function(){var e=t(i().mark((function e(n){var t,r,a,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L(n)){e.next=3;break}throw"[UIManager] "+n+" config not found.";case 3:if(!this.uiInstanceExist(n)||!t.single){e.next=6;break}return r=this.getUIInstance(n),e.abrupt("return",r);case 6:return e.next=8,w.getBundle(t.bundle);case 8:return a=e.sent,e.next=11,a.load(t.prefab,f);case 11:return o=e.sent,s=h(o),(c=s.getComponent(y))||(c=s.addComponent(y)),c.uiName=n,s.active=!1,e.prev=17,e.next=20,c.onCreate();case 20:return this.addInLayer(s,t.layer),this.addUIInstance(c),e.abrupt("return",c);case 25:e.prev=25,e.t0=e.catch(17),c.node&&c.node.destroy(),I.error("[UIManager] create "+n+" failed."),I.error(e.t0);case 30:case"end":return e.stop()}}),e,this,[[17,25]])})));return function(n){return e.apply(this,arguments)}}(),e.open=function(){var e=t(i().mark((function e(n){var t,r,a,o,s,c,u,d,p,g,m,V=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L(n)){e.next=3;break}throw"[UIManager] "+n+" config not found.";case 3:for(this.removeClosedView(n),r=V.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=V[o];if(!t.single){e.next=29;break}if(!this.uiInstanceExist(n)){e.next=25;break}return s=this.createViewOpenedLoadingTimer(),c=this.getUIInstance(n),e.prev=9,this.playViewOpenAnimation(c),e.next=13,c.onOpen.apply(c,a);case 13:v.emit(l.openUI,n),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(9),this.handleOpenViewFailed(c),I.error("[UIManager] open "+n+" failed."),I.error(e.t0);case 21:return e.prev=21,this.clearViewOpenedLoadingTimer(s),e.finish(21);case 24:return e.abrupt("return",c);case 25:if(!this.openingViews.has(n)){e.next=28;break}return I.log("[UIManager] "+n+" is opening."),e.abrupt("return");case 28:this.openingViews.add(n);case 29:return u=this.createViewOpenedLoadingTimer(),e.prev=30,e.next=33,w.getBundle(t.bundle);case 33:return p=e.sent,e.next=36,p.load(t.prefab,f);case 36:return g=e.sent,m=h(g),(d=m.getComponent(y))||(d=m.addComponent(y)),d.uiName=n,e.next=43,d.onCreate();case 43:return this.addInLayer(m,t.layer),this.playViewOpenAnimation(d),e.next=47,d.onOpen.apply(d,a);case 47:return this.addUIInstance(d),v.emit(l.openUI,n),e.abrupt("return",d);case 52:e.prev=52,e.t1=e.catch(30),d&&this.handleOpenViewFailed(d),I.error("[UIManager] open "+n+" failed."),I.error(e.t1);case 57:return e.prev=57,this.openingViews.delete(n),this.clearViewOpenedLoadingTimer(u),e.finish(57);case 61:case"end":return e.stop()}}),e,this,[[9,16,21,24],[30,52,57,61]])})));return function(n){return e.apply(this,arguments)}}(),e.close=function(){var e=t(i().mark((function e(n,t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),r=this.getUIInstance(n)){e.next=4;break}return e.abrupt("return");case 4:r.closing||(r.closing=!0,this.closeUIByInstance(r),t?w.releaseViewPrefab(r.uiName):this.handleClosedView(r.uiName));case 5:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),e.showOrOpen=function(){var e=t(i().mark((function e(n){var t,r,a,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.uiInstanceExist(n)){e.next=3;break}return this.show(n),e.abrupt("return");case 3:for(t=o.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=o[a];return e.next=6,this.open.apply(this,[n].concat(r));case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.show=function(e){var n=this.getUIInstance(e);n&&(n.node.active=!0)},e.hide=function(e){var n=this.getUIInstance(e);n?n.node.active=!1:I.warn("[UIManager] hide "+e+" failed.")},e.getUIInstance=function(e){if(e instanceof y)return e;var n=this.uiInstanceList.get(e);return n?n[n.length-1]:void 0},e.bringToPopLayer=function(e){e.parent.removeChild(e),this.popLayer.addChild(e)},e.bringToRoot=function(e){var n=e.getComponent(c).convertToWorldSpaceAR(e.position);e.parent.removeChild(e),o.getScene().addChild(e),e.position=n},e.closeUIByInstance=function(e){e.onClose(),v.emit(l.closeUI,e.uiName),e.animationCtrl&&e.closeAniClip?(e.animationCtrl.play("close"),e.animationCtrl.once(u.EventType.FINISHED,(function(){d(e.node)&&e.node.destroy()}))):d(e.node)&&e.node.destroy(),this.removeUIInstance(e)},e.addInLayer=function(e,n){switch(n){case V.window:this.windowLayer.addChild(e);break;case V.pop:this.popLayer.addChild(e);break;default:m(n)}},e.addUIInstance=function(e){var n=this.uiInstanceList.get(e.uiName);n||(n=[],this.uiInstanceList.set(e.uiName,n)),n.push(e)},e.removeUIInstance=function(e){var n=this.uiInstanceList.get(e.uiName);n&&g(n,e)},e.uiInstanceExist=function(e){var n=this.uiInstanceList.get(e);return!!(n&&n.length>0)},e.handleOpenViewFailed=function(e){e&&null!==e.node&&e.node.destroy(),this.removeUIInstance(e)},e.handleClosedView=function(e){var n=this.closedView.findIndex((function(n){return n===e}));if(-1!==n&&this.closedView.splice(n,1),this.closedView.push(e),!(this.closedView.length<=this.closedViewMaxCount))for(var t=this.closedView.length-this.closedViewMaxCount,i=0;i<t;i++){var r=this.closedView.shift();w.releaseViewPrefab(r)}},e.removeClosedView=function(e){g(this.closedView,e)},e.beforeSceneLaunch=function(){var e=this,t=[];this.uiInstanceList.forEach((function(i){for(var r,a=n(i);!(r=a()).done;){var s=r.value;if(s&&s.node&&s.node.isValid)!o.isPersistRootNode(s.node)&&s.node.parent!==e.rootLayer&&e.close(s);else t.push(s)}}));for(var i=0,r=t;i<r.length;i++){var a=r[i];this.removeUIInstance(a),I.warn("[UIManager] remove invalid view",a)}},e.createViewOpenedLoadingTimer=function(){var e=this;return window.setTimeout(t(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.viewOpenedLoadingRefCount++;case 1:case"end":return n.stop()}}),n)}))),1200)},e.clearViewOpenedLoadingTimer=function(e){if(window.clearTimeout(e),this.viewOpenedLoadingRefCount>0)--this.viewOpenedLoadingRefCount},e.playViewOpenAnimation=function(e){if(e.animationCtrl&&e.openAniClip){var n=e.getComponent(p);n&&(n.updateAlignment(),n.enabled=!1,e.animationCtrl.once(u.EventType.FINISHED,(function(){n&&(n.enabled=!0)}))),e.animationCtrl.play("open")}},e}());C.barLayer=void 0,C.windowLayer=void 0,C.popLayer=void 0,C.navLayer=void 0,C.rootLayer=void 0,C.uiInstanceList=new Map,C.closedView=[],C.closedViewMaxCount=20,C.openingViews=new Set,C.viewOpenedLoadingRefCount=0,r._RF.pop()}}}));

System.register("chunks:///_virtual/UIViewConfig.ts",["cc","./BattleResourceDef.ts","./DetailResourceDef.ts","./UIViewLayer.ts","./UIViewName.ts"],(function(e){var i,t,n,a,l,r,o,u;return{setters:[function(e){i=e.cclegacy},function(e){t=e.battleBundleName,n=e.battlePrepareViewPath,a=e.battleMainViewPath},function(e){l=e.detailBundleName,r=e.detailMainViewPath},function(e){o=e.UIViewLayer},function(e){u=e.UIViewName}],execute:function(){e("getUIViewConfig",(function(e){var i=w.get(e);if(!i)return;return i.mobile})),i._RF.push({},"bc81aparlJIu6odDzOkCKNB","UIViewConfig",void 0);var w=e("uiViewConfigs",new Map([[u.BattlePrepareView,{mobile:{bundle:t,prefab:n,layer:o.window,single:!0}}],[u.BattleMainView,{mobile:{bundle:t,prefab:a,layer:o.window,single:!0}}],[u.DetailMainView,{mobile:{bundle:l,prefab:r,layer:o.window,single:!0}}]]));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIViewLayer.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"55704kt1vZIi50meAuunIBW","UIViewLayer",void 0);e("UIViewLayer",function(e){return e[e.window=0]="window",e[e.pop=1]="pop",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIViewName.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fdb51aJRNlKAbT0nBb7IQ74","UIViewName",void 0);e("UIViewName",function(e){return e.BattlePrepareView="BattlePrepareView",e.BattleMainView="BattleMainView",e.DetailMainView="DetailMainView",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/XBundle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t;return{setters:[function(e){n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0f6b3v+8oJIMYAp7ZAhYkY8","XBundle",void 0);e("XBundle",function(){function e(e){this.bundle=void 0,this.bundle=e}var t=e.prototype;return t.load=function(){var e=n(r().mark((function e(n,t){var u=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){u.bundle.load(n,t,(function(n,t){n&&r(n),e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),t.preload=function(e){this.bundle.preload(e)},t.preloadDir=function(e){this.bundle.preloadDir(e)},t.releaseAll=function(){this.bundle.releaseAll()},t.release=function(e,n){this.bundle.release(e,n)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/XLog.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"a8298esObpJao+L24PGF36a","XLog",void 0);n("XLog",function(){function n(){}return n.error=function(n){},n.warn=function(n){},n.log=function(n){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/XMath.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeOutQuart:function(t){return 1- --t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},fixfloatPrecision:function(t,n){return t.toFixed(n)},getRandom:function(){return Math.random()},getRandomArbitrary:function(t,n){return Math.random()*(n-t)+t},getRandomInt:function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t))+t},getRandomIntInclusive:function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t}}),n._RF.push({},"f0337Y0uMNFZqbHfHVJzylw","XMath",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/XTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XLog.ts","./Platform.ts"],(function(r){var t,e,n,o,a,u,c;return{setters:[function(r){t=r.asyncToGenerator,e=r.regeneratorRuntime},function(r){n=r.cclegacy,o=r.game},function(r){a=r.XLog},function(r){u=r.isNativePlatform,c=r.isEmulatorPlatform}],execute:function(){r({assertNever:function(r){throw new Error("Unexpected object: "+r)},checkNotNull:function(r,t){if(null==r)throw new Error(t);return},reloadGame:function(){u()||c()?o.restart():window.location.reload()},throttle:function(r,t){return function(e,n,o){var u=o.value,c=0;return o.value=function(){var o=Date.now();if(o-c<=r)return a.warn("[throttle] "+e.constructor.name+"."+n+" call frequently."),void(t&&t());for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];u.apply(this,l),c=o},o}},throttleAsync:function(){return function(r,n,o){var a=o.value,u=!1;return o.value=t(e().mark((function r(){var t,n,o,c=arguments;return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u){r.next=9;break}for(u=!0,r.prev=2,t=c.length,n=new Array(t),o=0;o<t;o++)n[o]=c[o];return r.next=6,a.apply(this,n);case 6:return r.prev=6,u=!1,r.finish(6);case 9:case"end":return r.stop()}}),r,this,[[2,,6,9]])}))),o}}}),n._RF.push({},"5a767N0htZO0pA6N9Ogq/um","XTool",void 0),n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});