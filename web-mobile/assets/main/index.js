System.register("chunks:///_virtual/ArrayUtils.ts",["cc"],(function(r){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){r("removeItemFromArray",(function(r,e){var t=r.findIndex((function(r){return r===e}));if(t<0)return;r.splice(t,1)})),e._RF.push({},"efa36BYkhdD/qeWu5qrRByr","ArrayUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t.Component}],execute:function(){e._RF.push({},"222c9cqZU1AuIlOQC0uXEsr","BaseDisplay",void 0);t("BaseDisplay",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).data=void 0,n}n(e,t);var r=e.prototype;return r.bind=function(t){return this.data=t,this},r.getData=function(){return this.data},e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/BasePresenter.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a06281xY6BL35zLgMjXV+4N","BasePresenter",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"20b31pA3bJNkYJBhe46jDYK","BaseView",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DuckDisplay.ts","./DuckConfig.ts","./Duck.ts","./EventManager.ts","./EventDefine.ts"],(function(e){var t,n,i,o,a,r,s,c,l,u,p,h,f,d,y,g,k,D,b,m,M,v,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,s=e._decorator,c=e.Node,l=e.Prefab,u=e.Button,p=e.UITransform,h=e.Layout,f=e.instantiate,d=e.tween,y=e.NodePool,g=e.Component},function(e){k=e.DuckDisplay},function(e){D=e.playerDuck,b=e.monsterDucks},function(e){m=e.DuckKind,M=e.Duck},function(e){v=e.EventManager},function(e){P=e.BattleEvent}],execute:function(){var w,B,z,C,N,T,A,I,L,R,F,E,W,j,O;r._RF.push({},"c24f9ony8tM9orI/1+NcLTZ","BattleMain",void 0);var S=s.ccclass,_=s.property;e("BattleMain",(w=S("BattleMain"),B=_(c),z=_(c),C=_(l),N=_(u),T=_(p),A=_(l),w((R=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"characters",R,o(t)),i(t,"monsters",F,o(t)),i(t,"duckPrefab",E,o(t)),i(t,"beginBtn",W,o(t)),i(t,"effectLayout",j,o(t)),i(t,"weaponFlyPrefab",O,o(t)),t.begin=!1,t.end=!1,t.fighting=!1,t.monsterConingTimes=[1,3,5],t.timeScale=1,t.passTime=0,t.turn=0,t.playerDuckMap=new Map,t.monsterDuckMap=new Map,t.weaponPool=void 0,t}n(t,e);var r=t.prototype;return r.start=function(){this.createPlayer(),this.initWeaponPool(),v.on(P.battleAttack,this.onBattleAttack,this),v.on(P.battleInjure,this.onBattleInjure,this),v.on(P.battleDie,this.onBattleDie,this)},r.onDestroy=function(){v.off(P.battleAttack,this.onBattleAttack,this),v.off(P.battleInjure,this.onBattleInjure,this),v.off(P.battleDie,this.onBattleDie,this)},r.update=function(e){if(e*=this.timeScale,!this.end&&this.begin)if(this.fighting){for(var t,n=a(this.playerDuckMap.keys());!(t=n()).done;){t.value.action(e,this)}for(var i,o=a(this.monsterDuckMap.keys());!(i=o()).done;){i.value.action(e,this)}}else this.passTime+=e,console.log("passTime: ",this.passTime),this.passTime>=this.monsterConingTimes[this.turn]&&(console.log("怪物出现"),this.resetActionCD(),this.createMonster(),this.fighting=!0)},r.randomTarget=function(e){var t=e===m.Player?Array.from(this.monsterDuckMap.keys()):Array.from(this.playerDuckMap.keys());return t[Math.round(Math.random()*(t.length-1))]},r.createPlayer=function(){var e=this.characters.getComponent(h);e.resizeMode=h.ResizeMode.CONTAINER;for(var t,n=a(D);!(t=n()).done;){var i=t.value,o=f(this.duckPrefab),r=o.getComponent(k),s=new M(i);r.bind(s),r.updateDisplay(),this.playerDuckMap.set(s,r),this.characters.addChild(o)}this.scheduleOnce((function(){e.resizeMode=h.ResizeMode.NONE}))},r.createMonster=function(){var e=b[this.turn],t=this.monsters.getComponent(h);t.resizeMode=h.ResizeMode.CONTAINER;for(var n,i=a(e);!(n=i()).done;){var o=n.value,r=f(this.duckPrefab),s=r.getComponent(k),c=new M(o,m.Monster);s.bind(c),s.updateDisplay(),this.monsterDuckMap.set(c,s),this.monsters.addChild(r)}this.scheduleOnce((function(){t.resizeMode=h.ResizeMode.NONE}))},r.resetActionCD=function(){for(var e,t=a(this.playerDuckMap.keys());!(e=t()).done;){e.value.actionCD=0}},r.getDuckDisplay=function(e){var t;switch(e.kind){case m.Player:t=this.playerDuckMap.get(e);break;case m.Monster:t=this.monsterDuckMap.get(e)}return t},r.onBattleAttack=function(e,t){var n=this.getDuckDisplay(e),i=this.getDuckDisplay(t);n&&n.playAttack(),this.playWeaponFly(n.node.getWorldPosition(),i.node.getWorldPosition())},r.onBattleInjure=function(e,t){this.getDuckDisplay(e).playInjure()},r.onBattleDie=function(e){e.kind===m.Player&&(this.playerDuckMap.delete(e),this.playerDuckMap.size||(this.fighting=!1,this.end=!0,console.log("玩家失败"))),e.kind===m.Monster&&(this.monsterDuckMap.delete(e),this.monsterDuckMap.size||(this.turn++,this.fighting=!1),this.turn>=this.monsterConingTimes.length&&(this.end=!0,console.log("玩家胜利")))},r.onClickBeginBtn=function(){this.begin=!0,this.beginBtn.node.active=!1},r.playWeaponFly=function(e,t){var n=this,i=this.getWeaponNode(),o=i.getChildByName("icon"),a=this.effectLayout.convertToNodeSpaceAR(e),r=this.effectLayout.convertToNodeSpaceAR(t);i.parent=this.effectLayout.node,i.setPosition(a),o.angle=0,d(i).set({active:!0}).to(.4,{position:r},{easing:"circIn",onUpdate:function(e,t){o.angle+=10}}).call((function(){n.weaponPool.put(i)})).start()},r.initWeaponPool=function(){this.weaponPool=new y;for(var e=0;e<5;e++){var t=f(this.weaponFlyPrefab);this.weaponPool.put(t)}},r.getWeaponNode=function(){var e=this.weaponPool.get();return e||(e=f(this.weaponFlyPrefab)),e.active=!1,e},t}(g)).prototype,"characters",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(L.prototype,"monsters",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(L.prototype,"duckPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(L.prototype,"beginBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(L.prototype,"effectLayout",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(L.prototype,"weaponFlyPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=L))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainContract.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"592b0W5yClNX4TqKlXz6WW7","BattleMainContract",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainPresenter.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"aba5dfw1I5KN5L/tM9jdwxZ","BattleMainPresenter",void 0);t("BattleMainPresenter",function(){function t(t){this.view=void 0,this.view=t,this.view.setPresenter(this)}return t.prototype.start=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainPresenterFactory.ts",["cc","./BattleMainPresenter.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.BattleMainPresenter}],execute:function(){e("createBattleMainPresenter",(function(e){return new n(e)})),t._RF.push({},"8e5c2qDXptBs7TN8jbFRXne","BattleMainPresenterFactory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainV.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBaseView.ts"],(function(e){var r,n,t,i,a,l,o,u,c,f,s,b;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Animation,u=e.Node,c=e.Prefab,f=e.Button,s=e.UITransform},function(e){b=e.UIBaseView}],execute:function(){var p,y,g,m,w,d,B,h,z,v,P,I,L,V,D,F;a._RF.push({},"da0adEaTGBDXYq+ILZaW+Qv","BattleMainV",void 0);var M=l.ccclass,R=l.property;e("BattleMainV",(p=R(o),y=R(u),g=R(u),m=R(c),w=R(f),d=R(s),B=R(c),M((v=r((z=function(e){function r(){for(var r,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,t(r,"sceneReel",v,i(r)),t(r,"characters",P,i(r)),t(r,"monsters",I,i(r)),t(r,"duckPrefab",L,i(r)),t(r,"beginBtn",V,i(r)),t(r,"effectLayout",D,i(r)),t(r,"weaponFlyPrefab",F,i(r)),r}return n(r,e),r}(b)).prototype,"sceneReel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(z.prototype,"characters",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(z.prototype,"monsters",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(z.prototype,"duckPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=r(z.prototype,"beginBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(z.prototype,"effectLayout",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(z.prototype,"weaponFlyPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=z))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BattleMainPresenterFactory.ts","./BattleMainV.ts","./DuckDisplay.ts","./Duck.ts","./EventDefine.ts","./DuckConfig.ts"],(function(e){var t,n,i,o,s,a,r,c,l,u,h,p,f,d,y,g,k,D,M;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,r=e.Layout,c=e.instantiate,l=e.tween,u=e.NodePool},function(e){h=e.EventManager},function(e){p=e.createBattleMainPresenter},function(e){f=e.BattleMainV},function(e){d=e.DuckDisplay},function(e){y=e.DuckKind,g=e.Duck},function(e){k=e.BattleEvent},function(e){D=e.monsterDucks,M=e.playerDuck}],execute:function(){var v;s._RF.push({},"a8584aURYJBPoguf7NnAM1j","BattleMainView",void 0);var m=a.ccclass;a.property,e("BattleMainView",m(v=function(e){function s(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).presenter=void 0,t.begin=!1,t.end=!1,t.fighting=!1,t.monsterConingTimes=[1,3,5],t.timeScale=1,t.passTime=0,t.turn=0,t.playerDuckMap=new Map,t.monsterDuckMap=new Map,t.weaponPool=void 0,t}t(s,e);var a=s.prototype;return a.setPresenter=function(e){this.presenter=e},a.onCreate=function(){e.prototype.onCreate.call(this),p(this)},a.onOpen=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.prototype.onOpen.call(this);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onClose=function(){e.prototype.onClose.call(this)},a.start=function(){this.createPlayer(),this.initWeaponPool(),h.on(k.battleAttack,this.onBattleAttack,this),h.on(k.battleInjure,this.onBattleInjure,this),h.on(k.battleDie,this.onBattleDie,this)},a.onDestroy=function(){h.off(k.battleAttack,this.onBattleAttack,this),h.off(k.battleInjure,this.onBattleInjure,this),h.off(k.battleDie,this.onBattleDie,this)},a.onEnable=function(){},a.onDisable=function(){},a.update=function(e){if(e*=this.timeScale,!this.end&&this.begin)if(this.fighting){for(var t,i=n(this.playerDuckMap.keys());!(t=i()).done;){t.value.action(e,this)}for(var o,s=n(this.monsterDuckMap.keys());!(o=s()).done;){o.value.action(e,this)}}else this.passTime+=e,console.log("passTime: ",this.passTime),this.passTime>=this.monsterConingTimes[this.turn]&&(console.log("怪物出现"),this.resetActionCD(),this.createMonster(),this.fighting=!0,this.sceneReel.pause())},a.randomTarget=function(e){var t=e===y.Player?Array.from(this.monsterDuckMap.keys()):Array.from(this.playerDuckMap.keys());return t[Math.round(Math.random()*(t.length-1))]},a.createPlayer=function(){var e=this.characters.getComponent(r);e.resizeMode=r.ResizeMode.CONTAINER;for(var t,i=n(M);!(t=i()).done;){var o=t.value,s=c(this.duckPrefab),a=s.getComponent(d),l=new g(o);a.bind(l),a.updateDisplay(),this.playerDuckMap.set(l,a),this.characters.addChild(s)}this.scheduleOnce((function(){e.resizeMode=r.ResizeMode.NONE}))},a.createMonster=function(){var e=D[this.turn],t=this.monsters.getComponent(r);t.resizeMode=r.ResizeMode.CONTAINER;for(var i,o=n(e);!(i=o()).done;){var s=i.value,a=c(this.duckPrefab),l=a.getComponent(d),u=new g(s,y.Monster);l.bind(u),l.updateDisplay(),this.monsterDuckMap.set(u,l),this.monsters.addChild(a)}this.scheduleOnce((function(){t.resizeMode=r.ResizeMode.NONE}))},a.resetActionCD=function(){for(var e,t=n(this.playerDuckMap.keys());!(e=t()).done;){e.value.actionCD=0}},a.getDuckDisplay=function(e){var t;switch(e.kind){case y.Player:t=this.playerDuckMap.get(e);break;case y.Monster:t=this.monsterDuckMap.get(e)}return t},a.onBattleAttack=function(e,t){var n=this.getDuckDisplay(e),i=this.getDuckDisplay(t);n&&n.playAttack(),this.playWeaponFly(n.node.getWorldPosition(),i.node.getWorldPosition())},a.onBattleInjure=function(e,t){this.getDuckDisplay(e).playInjure()},a.onBattleDie=function(e){var t=this;e.kind===y.Player&&(this.playerDuckMap.delete(e),this.playerDuckMap.size||(this.fighting=!1,this.end=!0,this.sceneReel.stop(),console.log("玩家失败"))),e.kind===y.Monster&&(this.monsterDuckMap.delete(e),this.monsterDuckMap.size||(this.turn++,this.fighting=!1,this.scheduleOnce((function(){t.end||t.sceneReel.resume()}),.6)),this.turn>=this.monsterConingTimes.length&&(this.end=!0,this.sceneReel.stop(),console.log("玩家胜利")))},a.onClickBeginBtn=function(){this.begin=!0,this.beginBtn.node.active=!1,this.sceneReel.play()},a.playWeaponFly=function(e,t){var n=this,i=this.getWeaponNode(),o=i.getChildByName("icon"),s=this.effectLayout.convertToNodeSpaceAR(e),a=this.effectLayout.convertToNodeSpaceAR(t);i.parent=this.effectLayout.node,i.setPosition(s),o.angle=0,l(i).set({active:!0}).to(.4,{position:a},{easing:"circIn",onUpdate:function(e,t){o.angle+=10}}).call((function(){n.weaponPool.put(i)})).start()},a.initWeaponPool=function(){this.weaponPool=new u;for(var e=0;e<5;e++){var t=c(this.weaponFlyPrefab);this.weaponPool.put(t)}},a.getWeaponNode=function(){var e=this.weaponPool.get();return e||(e=c(this.weaponFlyPrefab)),e.active=!1,e},s}(f))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePrepareContract.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"40bb70LH9tGnrxNhwdYefjk","BattlePrepareContract",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePreparePresenter.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"dbf80swDCdC1a/xvQdS7W7P","BattlePreparePresenter",void 0);e("BattlePreparePresenter",function(){function e(e){this.view=void 0,this.view=e,this.view.setPresenter(this)}return e.prototype.start=function(){},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePreparePresenterFactory.ts",["cc","./BattlePreparePresenter.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.BattlePreparePresenter}],execute:function(){e("createBattlePreparePresenter",(function(e){return new r(e)})),t._RF.push({},"266f2h4QNRJtLEFYUqyOAak","BattlePreparePresenterFactory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePrepareV.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBaseView.ts"],(function(e){var t,r,i,a,l,n,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,o=e.Label},function(e){c=e.UIBaseView}],execute:function(){var s,u,p,f,y,b;l._RF.push({},"66ab4oqFbZABKwMyTIFmyot","BattlePrepareV",void 0);var g=n.ccclass,v=n.property;e("BattlePrepareV",(s=v(o),u=v(o),g((y=t((f=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,i(t,"stageTxt",y,a(t)),i(t,"levelTxt",b,a(t)),t}return r(t,e),t}(c)).prototype,"stageTxt",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(f.prototype,"levelTxt",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));l._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePrepareView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattlePreparePresenterFactory.ts","./BattlePrepareV.ts","./UIManager.ts","./UIViewName.ts"],(function(e){var t,n,r,o,a,i,c,s,u;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator},function(e){i=e.createBattlePreparePresenter},function(e){c=e.BattlePrepareV},function(e){s=e.UIManager},function(e){u=e.UIViewName}],execute:function(){var p;o._RF.push({},"2b540uPNd9Hc5GGtugHRprq","BattlePrepareView",void 0);var l=a.ccclass;a.property,e("BattlePrepareView",l(p=function(e){function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).presenter=void 0,t}t(o,e);var a=o.prototype;return a.setPresenter=function(e){this.presenter=e},a.onCreate=function(){e.prototype.onCreate.call(this),i(this)},a.onOpen=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.prototype.onOpen.call(this);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onClose=function(){e.prototype.onClose.call(this)},a.onEnable=function(){},a.onDisable=function(){},a.onClickStartBtn=function(){s.open(u.BattleMainView)},a.onClickDetailBtn=function(){s.open(u.DetailMainView)},o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/BattleResourceDef.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3eb27db/1lAy7yjPF3UhgmJ","BattleResourceDef",void 0);e("battleBundleName","battle"),e("battlePrepareViewPath","BattlePrepareView"),e("battleMainViewPath","BattleMainView");t._RF.pop()}}}));

System.register("chunks:///_virtual/ContentAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.UITransform,r=t.screen,h=t.Component}],execute:function(){var d;n._RF.push({},"42d410j7ldFbaWzvYab4sas","ContentAdapter",void 0);var s=i.ccclass;t("ContentAdapter",s(d=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onLoad=function(){var t=this.node.getComponent(o),e=Math.min(r.windowSize.width/t.width,r.windowSize.height/t.height),n=t.width*e,i=t.height*e;t.width=t.width*(r.windowSize.width/n),t.height=t.height*(r.windowSize.height/i)},n}(h))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainContract.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"758b8cYsa9MlIT8HASXWxur","DetailMainContract",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainPresenter.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a905flbTtxGvJGj9hVg2b4y","DetailMainPresenter",void 0);t("DetailMainPresenter",function(){function t(t){this.view=void 0,this.view=t,this.view.setPresenter(this)}return t.prototype.start=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainPresenterFactory.ts",["cc","./DetailMainPresenter.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.DetailMainPresenter}],execute:function(){e("createDetailMainPresenter",(function(e){return new n(e)})),t._RF.push({},"f3fd4TAlzNEMZ5NSYGPbNKb","DetailMainPresenterFactory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainV.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBaseView.ts","./LevelMgrDisplay.ts","./EquipMgrDisplay.ts"],(function(e){var r,i,l,n,t,a,u,o,p,c,s,y;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){t=e.cclegacy,a=e._decorator,u=e.Node,o=e.Label,p=e.ProgressBar},function(e){c=e.UIBaseView},function(e){s=e.LevelMgrDisplay},function(e){y=e.EquipMgrDisplay}],execute:function(){var f,b,g,D,m,v,M,w,z,L,d,h,B,P,V,q,I,E;t._RF.push({},"55544lPVStBAZ6CqrNr9smP","DetailMainV",void 0);var N=a.ccclass,_=a.property;e("DetailMainV",(f=_(u),b=_(o),g=_(o),D=_(o),m=_(o),v=_(p),M=_(s),w=_(y),N((d=r((L=function(e){function r(){for(var r,i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return r=e.call.apply(e,[this].concat(t))||this,l(r,"panelList",d,n(r)),l(r,"playerName",h,n(r)),l(r,"playerId",B,n(r)),l(r,"playerLevel",P,n(r)),l(r,"playerCE",V,n(r)),l(r,"expProgressBar",q,n(r)),l(r,"levelMgrDisplay",I,n(r)),l(r,"equipMgrDisplay",E,n(r)),r}return i(r,e),r}(c)).prototype,"panelList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=r(L.prototype,"playerName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=r(L.prototype,"playerId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(L.prototype,"playerLevel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=r(L.prototype,"playerCE",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=r(L.prototype,"expProgressBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(L.prototype,"levelMgrDisplay",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(L.prototype,"equipMgrDisplay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=L))||z));t._RF.pop()}}}));

System.register("chunks:///_virtual/DetailMainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DetailMainPresenterFactory.ts","./DetailMainV.ts"],(function(t){var e,n,i,r,a,o,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator},function(t){o=t.createDetailMainPresenter},function(t){c=t.DetailMainV}],execute:function(){var s;r._RF.push({},"2ad56XGboJN1J23gNUwnOfT","DetailMainView",void 0);var u=a.ccclass,l=(a.property,function(t){return t[t.Attribute=0]="Attribute",t[t.Equip=1]="Equip",t[t.Skill=2]="Skill",t}(l||{}));t("DetailMainView",u(s=function(t){function r(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).presenter=void 0,e.currentPanelIndex=0,e}e(r,t);var a=r.prototype;return a.setPresenter=function(t){this.presenter=t},a.onCreate=function(){t.prototype.onCreate.call(this),o(this)},a.onOpen=function(){var e=n(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.onOpen.call(this);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClose=function(){t.prototype.onClose.call(this)},a.onEnable=function(){},a.onDisable=function(){},a.onClickStartBtn=function(){},a.onClickEquipBtn=function(){},a.switchPanel=function(){var t=n(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l[e.node.name],this.panelList[this.currentPanelIndex].active=!1,this.panelList[n].active=!0,this.currentPanelIndex=n,t.t0=n,t.next=t.t0===l.Attribute?7:t.t0===l.Equip?8:t.t0===l.Skill?9:10;break;case 7:case 8:case 9:case 10:return t.abrupt("break",11);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.onClickLevelUpBtn=function(){this.levelMgrDisplay.node.active=!0},a.onClickEquipItem=function(){this.equipMgrDisplay.node.active=!0},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/DetailResourceDef.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"858a7n9Y2dNdZesKzbUwBVA","DetailResourceDef",void 0);e("detailBundleName","detail"),e("detailMainViewPath","DetailMainView");t._RF.pop()}}}));

System.register("chunks:///_virtual/Duck.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDefine.ts","./EventManager.ts"],(function(t){var i,n,e,a;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.BattleEvent},function(t){a=t.EventManager}],execute:function(){n._RF.push({},"22318i7OmJKO5/SU9kgenlh","Duck",void 0);var s=t("DuckKind",function(t){return t[t.Player=1]="Player",t[t.Monster=2]="Monster",t}({}));t("Duck",function(){function t(t,i){void 0===i&&(i=s.Player),this._attack=0,this._life=0,this._actionInterval=0,this._actionCD=0,this._rawLife=0,this._alive=void 0,this._duckKind=void 0,this._attack=t.attack,this._life=t.life,this._actionInterval=t.actionInterval,this._rawLife=t.life,this._alive=!0,this._duckKind=i}var n=t.prototype;return n.action=function(t,i){if(this.isAlive){if(this.actionCD<=0){var n=i.randomTarget(this._duckKind);this.hit(n),a.emit(e.battleAttack,this,n),this.actionCD+=this.actionInterval}this._alive=this.life>0,this.actionCD-=t,this.isAlive||a.emit(e.battleDie,this)}},n.hit=function(t){this.isAlive&&t.injure(this.attack)},n.injure=function(t){this.life-=t,a.emit(e.battleInjure,this,t)},i(t,[{key:"attack",get:function(){return this._attack},set:function(t){this._attack=t}},{key:"life",get:function(){return this._life},set:function(t){this._life=t}},{key:"actionInterval",get:function(){return this._actionInterval},set:function(t){this._actionInterval=t}},{key:"actionCD",get:function(){return this._actionCD},set:function(t){this._actionCD=t}},{key:"rawLife",get:function(){return this._rawLife}},{key:"isAlive",get:function(){return this._alive}},{key:"kind",get:function(){return this._duckKind}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/DuckConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ada14pRE2VI8IAGksz9TjWs","DuckConfig",void 0);e("playerDuck",[{attack:5,defense:0,life:500,speed:0,actionInterval:1.5}]),e("monsterDucks",[[{attack:2,defense:0,life:10,speed:0,actionInterval:2}],[{attack:3,defense:0,life:20,speed:0,actionInterval:1.5},{attack:5,defense:0,life:30,speed:0,actionInterval:1}],[{attack:5,defense:0,life:30,speed:0,actionInterval:1.5},{attack:8,defense:0,life:40,speed:0,actionInterval:1},{attack:1,defense:0,life:20,speed:0,actionInterval:3}]]);t._RF.pop()}}}));

System.register("chunks:///_virtual/DuckDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Duck.ts","./BaseDisplay.ts"],(function(e){var t,i,n,r,a,o,s,l,c,u,p,f,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Label,u=e.ProgressBar,p=e.tween,f=e.Vec3},function(e){y=e.DuckKind},function(e){d=e.BaseDisplay}],execute:function(){var h,D,g,v,k,w,b;s._RF.push({},"70eb6elrHlGV5hLBlsBrlnr","DuckDisplay",void 0);var P=l.ccclass,m=l.property;e("DuckDisplay",(h=P("DuckDisplay"),D=m(c),g=m(u),h((w=t((k=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"lifeTxt",w,r(t)),n(t,"lifePro",b,r(t)),t}i(t,e);var s=t.prototype;return s.updateDisplay=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.lifeTxt.string=this.data.life.toString(),this.lifePro.progress=this.data.life/this.data.rawLife;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.playAttack=function(){var e=this.node.position.clone(),t=this.data.kind===y.Player?20:-20;p(this.node).to(.1,{position:new f(e.x,t,0)},{easing:"circIn"}).to(.1,{position:e},{easing:"circIn"}).start()},s.playInjure=function(){var e=this;p(this.node).delay(.4).to(.1,{scale:new f(.7,.7,0)},{easing:"circIn"}).to(.1,{scale:new f(1,1,0)},{easing:"circIn"}).delay(.05).call((function(){e.updateDisplay(),e.data.isAlive||(e.node.parent.removeChild(e.node),e.node.destroy())})).start()},t}(d)).prototype,"lifeTxt",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(k.prototype,"lifePro",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=k))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/EquipMgrDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseDisplay.ts"],(function(r){var t,n,e,i,s,o;return{setters:[function(r){t=r.inheritsLoose,n=r.asyncToGenerator,e=r.regeneratorRuntime},function(r){i=r.cclegacy,s=r._decorator},function(r){o=r.BaseDisplay}],execute:function(){var u;i._RF.push({},"0ddf7kiy+VAKKU9OEWMqr2n","EquipMgrDisplay",void 0);var a=s.ccclass;s.property,r("EquipMgrDisplay",a("EquipMgrDisplay")(u=function(r){function i(){return r.apply(this,arguments)||this}t(i,r);var s=i.prototype;return s.updateDisplay=function(){var r=n(e().mark((function r(){return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),s.onClickCloseBtn=function(){this.node.active=!1},i}(o))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/EventDefine.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7e5d0cX5itNP5HoB/NWM0Nv","EventDefine",void 0);e("UIEvent",function(e){return e.openUI="openUI",e.closeUI="closeUI",e.clickToggle="clickToggle",e}({})),e("BattleEvent",function(e){return e.battleAttack="battleAttack",e.battleInjure="battleInjure",e.battleDie="battleDie",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,a;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"4ebd1KXF1dDZaArAbntOq+t","EventManager",void 0);var c=e("EventManager",function(){function e(){}return e.on=function(e,n,t){var r=this.eventMap.get(e);r||(r=[],this.eventMap.set(e,r)),r.push({event:e,context:t,func:n})},e.off=function(e,n,t){var r=this.eventMap.get(e);if(r)for(var a=r.length-1;a>=0;a--){var c=r[a];c.context===t&&c.func===n&&r.splice(a,1)}},e.emit=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];if(this.eventMap.has(e)){var a=this.eventMap.get(e).slice(0);a.forEach((function(e){e.func.apply(e.context,t)}))}},e.sequenceEmit=function(){var e=n(t().mark((function e(n){var a,c,s,u,i,o,f,p=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.eventMap.get(n)){e.next=3;break}return e.abrupt("return");case 3:for(c=p.length,s=new Array(c>1?c-1:0),u=1;u<c;u++)s[u-1]=p[u];for(i=r(a);!(o=i()).done;)f=o.value,this.asyncQueue.push({event:n,args:s,context:f.context,func:f.func});case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.update=function(){this.processAsyncCallback()},e.clearAll=function(){for(var e in this.eventMap.keys())this.eventMap[e]=[];this.eventMap.clear(),this.asyncQueue=[]},e.processAsyncCallback=function(){var e=n(t().mark((function e(){var n,a,c,s,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.asyncQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(!this.running){e.next=4;break}return e.abrupt("return");case 4:this.running=!0,n=this.asyncQueue.slice(0),a=0,c=r(n);case 8:if((s=c()).done){e.next=24;break}return u=s.value,e.prev=10,e.next=13,u.func.apply(u.context,u.args);case 13:a++,e.next=22;break;case 16:throw e.prev=16,e.t0=e.catch(10),console.error("[EventManager] process async callback failed. "+u.event+" Event "+u.func+" Callback"),this.asyncQueue.splice(0,a+1),this.running=!1,e.t0;case 22:e.next=8;break;case 24:this.asyncQueue.splice(0,n.length),this.running=!1;case 26:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(){return e.apply(this,arguments)}}(),e}());c.eventMap=new Map,c.asyncQueue=[],c.running=!1,a._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./ResourceMgr.ts","./UIManager.ts","./UIViewName.ts","./Platform.ts"],(function(n){var t,e,r,o,a,i,c,s,u,p,f,l,d,m;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,a=n._decorator,i=n.macro,c=n.DynamicAtlasManager,s=n.director,u=n.Component},function(n){p=n.EventManager},function(n){f=n.ResourceMgr},function(n){l=n.UIManager},function(n){d=n.UIViewName},function(n){m=n.isMobilePlatform}],execute:function(){var g;o._RF.push({},"9a9a50njadJtLBLjy76lyrb","Game",void 0);var v=a.ccclass,h=(a.property,a.executionOrder);i.CLEANUP_IMAGE_CACHE=!1,c.instance.enabled=!0,c.instance.maxFrameSize=512,m()&&window.addEventListener("scroll",(function(n){n.stopPropagation(),window.scroll(0,0)}),!0);n("Game",v(g=h(-1)(g=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var a=o.prototype;return a.init=function(){f.init(),l.init()},a.onLoad=function(){s.addPersistRootNode(this.node)},a.start=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.init(),l.open(d.BattlePrepareView);case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.update=function(n){p.update()},o}(u))||g)||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"82e7awtrnFCjb1QsaVcoaiJ","GlobalConfig",void 0);e("Environment",function(e){return e[e.dev=1]="dev",e[e.test=2]="test",e[e.publish=3]="publish",e}({})),e("Version",function(e){return e[e.base=1]="base",e}({})),e("ENV",1),e("VERSION",1);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMgrDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseDisplay.ts"],(function(e){var n,t,r,i,o,s;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e._decorator},function(e){s=e.BaseDisplay}],execute:function(){var c;i._RF.push({},"70603fPq6hA+YQbGAUlmW6h","LevelMgrDisplay",void 0);var a=o.ccclass;o.property,e("LevelMgrDisplay",a("LevelMgrDisplay")(c=function(e){function i(){return e.apply(this,arguments)||this}n(i,e);var o=i.prototype;return o.updateDisplay=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.onClickAbsorbBtn=function(){},o.onClickCancelBtn=function(){this.node.active=!1},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Game.ts","./GlobalConfig.ts","./BattleMain.ts","./Duck.ts","./DuckConfig.ts","./DuckDisplay.ts","./BattleMainContract.ts","./BattleMainPresenter.ts","./BattleMainPresenterFactory.ts","./BattleMainV.ts","./BattleMainView.ts","./BattlePrepareContract.ts","./BattlePreparePresenter.ts","./BattlePreparePresenterFactory.ts","./BattlePrepareV.ts","./BattlePrepareView.ts","./BaseDisplay.ts","./EventDefine.ts","./EventManager.ts","./BasePresenter.ts","./BaseView.ts","./ModelLoader.ts","./BattleResourceDef.ts","./DetailResourceDef.ts","./PreloadResConfig.ts","./ProtoResourceDef.ts","./ResourceMgr.ts","./ResourcePath.ts","./XBundle.ts","./ContentAdapter.ts","./ModalWindow.ts","./UIBaseView.ts","./UIManager.ts","./UIViewConfig.ts","./UIViewLayer.ts","./UIViewName.ts","./ArrayUtils.ts","./Platform.ts","./XLog.ts","./XMath.ts","./XTool.ts","./EquipMgrDisplay.ts","./LevelMgrDisplay.ts","./DetailMainContract.ts","./DetailMainPresenter.ts","./DetailMainPresenterFactory.ts","./DetailMainV.ts","./DetailMainView.ts","./Protocol.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBaseView.ts"],(function(t){var e,i,n,r,a,o,s,l,p,c,u,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.SpriteFrame,l=t.Node,p=t.Button,c=t.Sprite,u=t.Widget,d=t.UIOpacity},function(t){h=t.UIBaseView}],execute:function(){var m,g,f,y,k,b;a._RF.push({},"6d11dulOHNK67DNNR2Irilu","ModalWindow",void 0);var v=o.ccclass,w=o.property;t("ModalWindow",(m=w({min:0,max:255}),g=w(s),v((k=e((y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"alpha",k,r(e)),n(e,"spriteFrame",b,r(e)),e.mask=void 0,e}i(e,t);var a=e.prototype;return a.onCreate=function(){t.prototype.onCreate.call(this),this.createBackgroundMask()},a.createBackgroundMask=function(){this.mask=new l;var t=this.mask.addComponent(p);t.interactable=!0,t.transition=p.Transition.NONE,this.mask.addComponent(c).spriteFrame=this.spriteFrame;var e=this.mask.addComponent(u);e.isAlignTop=!0,e.isAlignBottom=!0,e.isAlignLeft=!0,e.isAlignRight=!0,e.top=0,e.bottom=0,e.left=0,e.right=0,this.mask.getComponent(d).opacity=this.alpha,this.node.parent.insertChild(this.mask,this.node.getSiblingIndex())},e}(h)).prototype,"alpha",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),b=e(y.prototype,"spriteFrame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ModelLoader.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"302d2uOTAlPWYHQsHQBUbOv","ModelLoader",void 0),e("ModelLoader",function(){function e(){}return e.getModel=function(e){if(this.map.has(e))return this.map.get(e);var t=new e;return this.map.set(e,t),t},e.deleteModel=function(e){this.map.has(e)&&this.map.delete(e)},e.clear=function(){this.map.clear()},e}()).map=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["cc","./env"],(function(t){var r,n,o;return{setters:[function(t){r=t.cclegacy,n=t.sys},function(t){o=t.PREVIEW}],execute:function(){t({isAndroidPlatform:function(){return n.os===n.OS.ANDROID},isBrowserPlatform:function(){return n.isBrowser},isEmulatorPlatform:function(){return o},isIOSPlatform:function(){return n.os===n.OS.IOS},isMobilePlatform:function(){return n.isMobile},isNativePlatform:function(){return n.isNative}}),r._RF.push({},"6ab918rOqFK8JoLdXOivECj","Platform",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/PreloadResConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4548019Hj1JGY2WheiWA1Bm","PreloadResConfig",void 0);e("preloadResDir",["item/"]);t._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"391f9K8WRFJEaQK1ztJd44G","Protocol",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ProtoResourceDef.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f5c6fZF7PtFor6GjMu7w3ss","ProtoResourceDef",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalConfig.ts","./UIViewConfig.ts","./Platform.ts","./XLog.ts","./PreloadResConfig.ts","./XBundle.ts"],(function(e){var r,n,t,u,a,o,s,i,c,f,l,p,d,w,h,m,v;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime,t=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,a=e.director,o=e.assetManager,s=e.Prefab,i=e.SpriteFrame,c=e.Texture2D},function(e){f=e.ENV,l=e.Environment},function(e){p=e.getUIViewConfig},function(e){d=e.isNativePlatform,w=e.isEmulatorPlatform},function(e){h=e.XLog},function(e){m=e.preloadResDir},function(e){v=e.XBundle}],execute:function(){u._RF.push({},"0ae66bw8BZMvqGoKYDi60M8","ResourceMgr",void 0),e("ResourceMgr",function(){function e(){}return e.init=function(){if(d()||w())this.remotePrefix="";else switch(f){case l.test:this.remotePrefix="http://172.16.10.32";break;case l.publish:this.remotePrefix="https://url/assets/"}},e.getRes=function(){var e=r(n().mark((function e(r,t){var u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBundle("resources");case 2:return u=e.sent,e.abrupt("return",u.load(r,t));case 4:case"end":return e.stop()}}),e,this)})));return function(r,n){return e.apply(this,arguments)}}(),e.preloadRes=function(){var e=r(n().mark((function e(){var r,u,o,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBundle("resources");case 2:for(r=e.sent,u=t(m);!(o=u()).done;)s=o.value,r.preloadDir(s);a.preloadScene("world");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.loadBundle=function(){var e=r(n().mark((function e(r){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.loadBundle(t.remotePrefix+r,(function(u,a){u&&(h.warn("array:"+(t.remotePrefix+r)+" load faild"),n(u)),e(new v(a))}))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.getBundle=function(){var e=r(n().mark((function e(r){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=o.getBundle(r))){e.next=3;break}return e.abrupt("return",new v(t));case 3:return e.abrupt("return",this.loadBundle(r));case 4:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),e.releaseBundleAsset=function(){var t=r(n().mark((function r(t){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getBundle(t);case 2:r.sent.releaseAll();case 4:case"end":return r.stop()}}),r)})));return function(e){return t.apply(this,arguments)}}(),e.releaseViewPrefab=function(){var t=r(n().mark((function r(t){var u;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(u=p(t))){r.next=7;break}return r.next=4,e.getBundle(u.bundle);case 4:r.sent.release(u.prefab,s),h.log("[ResourceMgr] "+t+" prefab have been released.");case 7:case"end":return r.stop()}}),r)})));return function(e){return t.apply(this,arguments)}}(),e.loadRemoteImageAsset=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.loadRemote(r,(function(t,u){t&&(h.warn(r+" load faild"),n(new i));var a=new i,o=new c;o.image=u,a.texture=o,e(a)}))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.loadRemoteJsonAsset=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.loadRemote(r,(function(t,u){t&&(h.warn(r+" load faild"),n(new i)),e(u)}))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e}()).remotePrefix="",u._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcePath.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"03004bHrg5BqYf8zpRl6qix","ResourcePath",void 0);e("resourcesBundleName","resources");c._RF.pop()}}}));

System.register("chunks:///_virtual/UIBaseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts"],(function(e){var n,i,t,o,s,l,r,a,c,u,p,h,d,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,c=e.AnimationClip,u=e.Button,p=e.Node,h=e.Animation,d=e.Component},function(e){f=e.UIManager}],execute:function(){var v,m,C,g,w,y,b,B,A,M;r._RF.push({},"d8fcemi6JBFb6WWcXH11e0u","UIBaseView",void 0);var k=a.ccclass,E=a.property;e("UIBaseView",(v=E(c),m=E(c),C=E(u),g=E(p),k((b=n((y=function(e){function n(){for(var n,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(n=e.call.apply(e,[this].concat(s))||this).uiName=void 0,n.closing=!1,n.animationCtrl=void 0,t(n,"openAniClip",b,o(n)),t(n,"closeAniClip",B,o(n)),n.completeReject=void 0,n.completedReslove=void 0,n.loadingAniShowing=!1,t(n,"closeBtn",A,o(n)),t(n,"closeMask",M,o(n)),n}i(n,e);var r=n.prototype;return r.onCreate=function(){this.closeBtn&&this.addCloseBtnEvent(),this.closeMask&&this.addCloseMaskEvent(),this.animationCtrl=this.getComponent(h),this.animationCtrl&&(this.openAniClip&&this.animationCtrl.addClip(this.openAniClip,"open"),this.closeAniClip&&this.animationCtrl.addClip(this.closeAniClip,"close"))},r.onOpen=function(){null!=this.node&&(this.node.active=!0)},r.onClose=function(){},r.close=function(e){void 0===e&&(e=!1),f.close(this,e)},r.hide=function(){f.hide(this)},r.show=function(){f.show(this)},r.complete=function(e){e?this.completedReslove():this.completeReject()},r.loading=function(){var e=s(l().mark((function e(){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){n.completeReject=i,n.completedReslove=e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.reload=function(){},r.showBlackTips=function(e){},r.showErrorMsg=function(e){},r.addCloseBtnEvent=function(){var e=this;this.closeBtn.node.on(p.EventType.TOUCH_END,(function(){e.close()}),this)},r.addCloseMaskEvent=function(){var e=this;this.closeMask.on(p.EventType.TOUCH_END,(function(){e.close()}),this)},n}(d)).prototype,"openAniClip",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(y.prototype,"closeAniClip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(y.prototype,"closeBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(y.prototype,"closeMask",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDefine.ts","./EventManager.ts","./ResourceMgr.ts","./ArrayUtils.ts","./XLog.ts","./XTool.ts","./UIBaseView.ts","./UIViewConfig.ts","./UIViewLayer.ts"],(function(e){var n,t,i,r,a,o,s,c,u,d,p,h,f,l,v,w,g,I,m,y,L,V;return{setters:[function(e){n=e.createForOfIteratorHelperLoose,t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e.find,o=e.director,s=e.Director,c=e.UITransform,u=e.Animation,d=e.isValid,p=e.Widget,h=e.instantiate,f=e.Prefab},function(e){l=e.UIEvent},function(e){v=e.EventManager},function(e){w=e.ResourceMgr},function(e){g=e.removeItemFromArray},function(e){I=e.XLog},function(e){m=e.assertNever},function(e){y=e.UIBaseView},function(e){L=e.getUIViewConfig},function(e){V=e.UIViewLayer}],execute:function(){r._RF.push({},"53cd4OxJE1P7rzVghFXM3x/","UIManager",void 0);var C=e("UIManager",function(){function e(){}return e.init=function(){this.windowLayer=a("Canvas/ui/windowLayer"),this.popLayer=a("Canvas/ui/popLayer"),o.addPersistRootNode(this.rootLayer),console.log("123"),o.off(s.EVENT_BEFORE_SCENE_LOADING,this.beforeSceneLaunch,this),o.on(s.EVENT_BEFORE_SCENE_LOADING,this.beforeSceneLaunch,this)},e.create=function(){var e=t(i().mark((function e(n){var t,r,a,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L(n)){e.next=3;break}throw"[UIManager] "+n+" config not found.";case 3:if(!this.uiInstanceExist(n)||!t.single){e.next=6;break}return r=this.getUIInstance(n),e.abrupt("return",r);case 6:return e.next=8,w.getBundle(t.bundle);case 8:return a=e.sent,e.next=11,a.load(t.prefab,f);case 11:return o=e.sent,s=h(o),(c=s.getComponent(y))||(c=s.addComponent(y)),c.uiName=n,s.active=!1,e.prev=17,e.next=20,c.onCreate();case 20:return this.addInLayer(s,t.layer),this.addUIInstance(c),e.abrupt("return",c);case 25:e.prev=25,e.t0=e.catch(17),c.node&&c.node.destroy(),I.error("[UIManager] create "+n+" failed."),I.error(e.t0);case 30:case"end":return e.stop()}}),e,this,[[17,25]])})));return function(n){return e.apply(this,arguments)}}(),e.open=function(){var e=t(i().mark((function e(n){var t,r,a,o,s,c,u,d,p,g,m,V=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L(n)){e.next=3;break}throw"[UIManager] "+n+" config not found.";case 3:for(this.removeClosedView(n),r=V.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=V[o];if(!t.single){e.next=29;break}if(!this.uiInstanceExist(n)){e.next=25;break}return s=this.createViewOpenedLoadingTimer(),c=this.getUIInstance(n),e.prev=9,this.playViewOpenAnimation(c),e.next=13,c.onOpen.apply(c,a);case 13:v.emit(l.openUI,n),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(9),this.handleOpenViewFailed(c),I.error("[UIManager] open "+n+" failed."),I.error(e.t0);case 21:return e.prev=21,this.clearViewOpenedLoadingTimer(s),e.finish(21);case 24:return e.abrupt("return",c);case 25:if(!this.openingViews.has(n)){e.next=28;break}return I.log("[UIManager] "+n+" is opening."),e.abrupt("return");case 28:this.openingViews.add(n);case 29:return u=this.createViewOpenedLoadingTimer(),e.prev=30,e.next=33,w.getBundle(t.bundle);case 33:return p=e.sent,e.next=36,p.load(t.prefab,f);case 36:return g=e.sent,m=h(g),(d=m.getComponent(y))||(d=m.addComponent(y)),d.uiName=n,e.next=43,d.onCreate();case 43:return this.addInLayer(m,t.layer),this.playViewOpenAnimation(d),e.next=47,d.onOpen.apply(d,a);case 47:return this.addUIInstance(d),v.emit(l.openUI,n),e.abrupt("return",d);case 52:e.prev=52,e.t1=e.catch(30),d&&this.handleOpenViewFailed(d),I.error("[UIManager] open "+n+" failed."),I.error(e.t1);case 57:return e.prev=57,this.openingViews.delete(n),this.clearViewOpenedLoadingTimer(u),e.finish(57);case 61:case"end":return e.stop()}}),e,this,[[9,16,21,24],[30,52,57,61]])})));return function(n){return e.apply(this,arguments)}}(),e.close=function(){var e=t(i().mark((function e(n,t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),r=this.getUIInstance(n)){e.next=4;break}return e.abrupt("return");case 4:r.closing||(r.closing=!0,this.closeUIByInstance(r),t?w.releaseViewPrefab(r.uiName):this.handleClosedView(r.uiName));case 5:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),e.showOrOpen=function(){var e=t(i().mark((function e(n){var t,r,a,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.uiInstanceExist(n)){e.next=3;break}return this.show(n),e.abrupt("return");case 3:for(t=o.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=o[a];return e.next=6,this.open.apply(this,[n].concat(r));case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.show=function(e){var n=this.getUIInstance(e);n&&(n.node.active=!0)},e.hide=function(e){var n=this.getUIInstance(e);n?n.node.active=!1:I.warn("[UIManager] hide "+e+" failed.")},e.getUIInstance=function(e){if(e instanceof y)return e;var n=this.uiInstanceList.get(e);return n?n[n.length-1]:void 0},e.bringToPopLayer=function(e){e.parent.removeChild(e),this.popLayer.addChild(e)},e.bringToRoot=function(e){var n=e.getComponent(c).convertToWorldSpaceAR(e.position);e.parent.removeChild(e),o.getScene().addChild(e),e.position=n},e.closeUIByInstance=function(e){e.onClose(),v.emit(l.closeUI,e.uiName),e.animationCtrl&&e.closeAniClip?(e.animationCtrl.play("close"),e.animationCtrl.once(u.EventType.FINISHED,(function(){d(e.node)&&e.node.destroy()}))):d(e.node)&&e.node.destroy(),this.removeUIInstance(e)},e.addInLayer=function(e,n){switch(n){case V.window:this.windowLayer.addChild(e);break;case V.pop:this.popLayer.addChild(e);break;default:m(n)}},e.addUIInstance=function(e){var n=this.uiInstanceList.get(e.uiName);n||(n=[],this.uiInstanceList.set(e.uiName,n)),n.push(e)},e.removeUIInstance=function(e){var n=this.uiInstanceList.get(e.uiName);n&&g(n,e)},e.uiInstanceExist=function(e){var n=this.uiInstanceList.get(e);return!!(n&&n.length>0)},e.handleOpenViewFailed=function(e){e&&null!==e.node&&e.node.destroy(),this.removeUIInstance(e)},e.handleClosedView=function(e){var n=this.closedView.findIndex((function(n){return n===e}));if(-1!==n&&this.closedView.splice(n,1),this.closedView.push(e),!(this.closedView.length<=this.closedViewMaxCount))for(var t=this.closedView.length-this.closedViewMaxCount,i=0;i<t;i++){var r=this.closedView.shift();w.releaseViewPrefab(r)}},e.removeClosedView=function(e){g(this.closedView,e)},e.beforeSceneLaunch=function(){var e=this,t=[];this.uiInstanceList.forEach((function(i){for(var r,a=n(i);!(r=a()).done;){var s=r.value;if(s&&s.node&&s.node.isValid)!o.isPersistRootNode(s.node)&&s.node.parent!==e.rootLayer&&e.close(s);else t.push(s)}}));for(var i=0,r=t;i<r.length;i++){var a=r[i];this.removeUIInstance(a),I.warn("[UIManager] remove invalid view",a)}},e.createViewOpenedLoadingTimer=function(){var e=this;return window.setTimeout(t(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.viewOpenedLoadingRefCount++;case 1:case"end":return n.stop()}}),n)}))),1200)},e.clearViewOpenedLoadingTimer=function(e){if(window.clearTimeout(e),this.viewOpenedLoadingRefCount>0)--this.viewOpenedLoadingRefCount},e.playViewOpenAnimation=function(e){if(e.animationCtrl&&e.openAniClip){var n=e.getComponent(p);n&&(n.updateAlignment(),n.enabled=!1,e.animationCtrl.once(u.EventType.FINISHED,(function(){n&&(n.enabled=!0)}))),e.animationCtrl.play("open")}},e}());C.barLayer=void 0,C.windowLayer=void 0,C.popLayer=void 0,C.navLayer=void 0,C.rootLayer=void 0,C.uiInstanceList=new Map,C.closedView=[],C.closedViewMaxCount=20,C.openingViews=new Set,C.viewOpenedLoadingRefCount=0,r._RF.pop()}}}));

System.register("chunks:///_virtual/UIViewConfig.ts",["cc","./BattleResourceDef.ts","./DetailResourceDef.ts","./UIViewLayer.ts","./UIViewName.ts"],(function(e){var i,t,n,a,l,r,o,u;return{setters:[function(e){i=e.cclegacy},function(e){t=e.battleBundleName,n=e.battlePrepareViewPath,a=e.battleMainViewPath},function(e){l=e.detailBundleName,r=e.detailMainViewPath},function(e){o=e.UIViewLayer},function(e){u=e.UIViewName}],execute:function(){e("getUIViewConfig",(function(e){var i=w.get(e);if(!i)return;return i.mobile})),i._RF.push({},"bc81aparlJIu6odDzOkCKNB","UIViewConfig",void 0);var w=e("uiViewConfigs",new Map([[u.BattlePrepareView,{mobile:{bundle:t,prefab:n,layer:o.window,single:!0}}],[u.BattleMainView,{mobile:{bundle:t,prefab:a,layer:o.window,single:!0}}],[u.DetailMainView,{mobile:{bundle:l,prefab:r,layer:o.window,single:!0}}]]));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIViewLayer.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"55704kt1vZIi50meAuunIBW","UIViewLayer",void 0);e("UIViewLayer",function(e){return e[e.window=0]="window",e[e.pop=1]="pop",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIViewName.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fdb51aJRNlKAbT0nBb7IQ74","UIViewName",void 0);e("UIViewName",function(e){return e.BattlePrepareView="BattlePrepareView",e.BattleMainView="BattleMainView",e.DetailMainView="DetailMainView",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/XBundle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t;return{setters:[function(e){n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0f6b3v+8oJIMYAp7ZAhYkY8","XBundle",void 0);e("XBundle",function(){function e(e){this.bundle=void 0,this.bundle=e}var t=e.prototype;return t.load=function(){var e=n(r().mark((function e(n,t){var u=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){u.bundle.load(n,t,(function(n,t){n&&r(n),e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),t.preload=function(e){this.bundle.preload(e)},t.preloadDir=function(e){this.bundle.preloadDir(e)},t.releaseAll=function(){this.bundle.releaseAll()},t.release=function(e,n){this.bundle.release(e,n)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/XLog.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"a8298esObpJao+L24PGF36a","XLog",void 0);n("XLog",function(){function n(){}return n.error=function(n){},n.warn=function(n){},n.log=function(n){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/XMath.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeOutQuart:function(t){return 1- --t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},fixfloatPrecision:function(t,n){return t.toFixed(n)},getRandom:function(){return Math.random()},getRandomArbitrary:function(t,n){return Math.random()*(n-t)+t},getRandomInt:function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t))+t},getRandomIntInclusive:function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t}}),n._RF.push({},"f0337Y0uMNFZqbHfHVJzylw","XMath",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/XTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XLog.ts","./Platform.ts"],(function(r){var t,e,n,o,a,u,c;return{setters:[function(r){t=r.asyncToGenerator,e=r.regeneratorRuntime},function(r){n=r.cclegacy,o=r.game},function(r){a=r.XLog},function(r){u=r.isNativePlatform,c=r.isEmulatorPlatform}],execute:function(){r({assertNever:function(r){throw new Error("Unexpected object: "+r)},checkNotNull:function(r,t){if(null==r)throw new Error(t);return},reloadGame:function(){u()||c()?o.restart():window.location.reload()},throttle:function(r,t){return function(e,n,o){var u=o.value,c=0;return o.value=function(){var o=Date.now();if(o-c<=r)return a.warn("[throttle] "+e.constructor.name+"."+n+" call frequently."),void(t&&t());for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];u.apply(this,l),c=o},o}},throttleAsync:function(){return function(r,n,o){var a=o.value,u=!1;return o.value=t(e().mark((function r(){var t,n,o,c=arguments;return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u){r.next=9;break}for(u=!0,r.prev=2,t=c.length,n=new Array(t),o=0;o<t;o++)n[o]=c[o];return r.next=6,a.apply(this,n);case 6:return r.prev=6,u=!1,r.finish(6);case 9:case"end":return r.stop()}}),r,this,[[2,,6,9]])}))),o}}}),n._RF.push({},"5a767N0htZO0pA6N9Ogq/um","XTool",void 0),n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});